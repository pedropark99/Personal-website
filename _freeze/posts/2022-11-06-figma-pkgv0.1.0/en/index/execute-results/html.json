{
  "hash": "9dc47b02cf1ad04ab48161468bafa03e",
  "result": {
    "markdown": "---\ntitle: \"Introducing the `{figma}` R package\"\ndescription: With this package, you can access the Figma API to bring your design files to R ðŸŽ¨!\ndate: '2022-11-06'\nimage: './../featured.png'\ncategories: ['R Language', 'Package', 'Figma', 'API']\ntoc: true\n---\n\n\n## Introduction\n\nI'm very happy to announce the realease of `figma` R package to CRAN! This package provides a R interface (or a web client/wrapper) to the [Figma API](https://www.figma.com/developers/api). Below we have all the important links about this package:\n\n<a href=\"https://github.com/pedropark99/figma\"> <button type=\"button\" class=\"btn btn-primary\">Official repository</button></a>\n<a href=\"https://pedropark99.github.io/figma/\"> <button type=\"button\" class=\"btn btn-primary\">Package website</button></a>\n<a href=\"https://cran.r-project.org/package=figma\"> <button type=\"button\" class=\"btn btn-primary\">Page on CRAN</button></a>\n\n\n\nThis is the first release (or the first version) of the package, and for now, it have all the necessary functionality to get all data from a Figma file, and bring it to your R session. But in the future, the package will include more functionalities and endpoints. Please, if you can, test this package and give feedbacks or report bugs by [sending Issues on the official repository](https://github.com/pedropark99/figma/issues).\n\n\n## Getting started\n\nFist of all, you need to install the package on your machine, and to do that, you can use this code:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"figma\")\n```\n:::\n\n\nOr, to install the development version directly from GitHub:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndevtools::install_github(\"pedropark99/figma\")\n```\n:::\n\n\n\n\nNow, to get the data of a Figma file through the Figma API, you have to collect two key variables about your file and your credentials. \nThey are:\n\n- `file_key`: The ID (or the \"key\") that identifies your Figma file;\n- `token`: Your personal access token from the Figma platform;\n\nTo use the `figma::get_figma_page()` function, you will need to collect a third information, which is the `node_id`, or the ID that identifies a canvas/page of your Figma file. We will talk about this ID later.\n\n\n## Finding the key (or ID) of your Figma file\n\nThe file key (or the file key), is a random text that identifies your Figma\nfile. The Figma API uses this key to identify which specific Figma file you\nare requesting for.\n\nYou can find the key (or ID) of your Figma file by looking at the URL in your web browser, when you access your Figma file\nat the Figma platform. As an example, lets use this Figma file entitled `Untitled` (I will not make a joke on that \nðŸ˜…):\n\n\n::: {.cell}\n::: {.cell-output-display}\n![An example of Figma file](./../example-figma-file.png){width=100%}\n:::\n:::\n\n\nIf we look at the top of my web browser, we have the following URL:\n\n`https://www.figma.com/file/hch8YlkIrYbU3raDzjPvCz/Untitled?node-id=0%3A1`\n\nThe key (or the ID) of this file is `\"hch8YlkIrYbU3raDzjPvCz\"`. This means\nthat the URL of every Figma file is composed of this structure. So in\norder to use the functions from the `figma` package, you should always\ncollect this `:file_key` portion of the URL, to get the key to your\nfile.\n\n`https://www.figma.com/file/:file_key/:file_title?node-id=:node_id`\n\nThis also means that, if you want to use `figma::get_figma_page()`, you will need\nto collect the `:node_id` portion of the URL as well. This portion gives you the\nnode ID, or, in other words, the ID that identifies the canvas/page you are on.\nThis portion of the URL is usually a key-value pair, where the ID of your node is after the equal sign (`=`).\n\nFor example, by looking at the URL example that we gave above, we know that the\ncanvas/page where I am is the page of `node_id = \"0%3A1\"`.\n\n\n## Get your personal access token\n\nYou can read more about the authentication process and the use of personal\naccess tokens, in [the section \"Authentication\" of the Figma API documentation](https://www.figma.com/developers/api#authentication).\nIf you do not have a personal access token, you can create one in the Figma\nplatform. Just log in the platform, and click on the `Settings` section, like\nin the image below:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Settings of Figma platform](./../figma-settings.png){width=30%}\n:::\n:::\n\n\nAfter that, look for the `Personal access token` section of the settings, like in\nthe image below. This is where you can create all of your personal access tokens. Just\nadd a description (or a \"alias\") to your token, and press Enter. A pop-up should appear\nin your screen with your new token.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Personal access token section in settings](./../create-token.png){width=60%}\n:::\n:::\n\n\nThe Figma API uses this secret token to identify you, to know that is you that is requesting\nfor a file, and not someone else. Because of this, is important to keep this token a secret,\nbecause if someone have it, they can access your Figma files through the API.\n\nA standard way to store these passwords, is to store them in the `.Renviron` file, but there are\nmany other methods that are good alternatives too. A good place to start is the \n[vignette from Hadley Wickham](https://cran.r-project.org/package=httr/vignettes/secrets.html).\n\n\n## Use `get_figma_file()` to get your Figma file \nNow that you have the key (or ID) that identifies your Figma file, and your personal token that\nidentifies yourself, you can use `figma::get_figma_file()` to get your Figma file:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(figma)\nfile_key <- \"hch8YlkIrYbU3raDzjPvCz\"\n# Insert your personal token:\ntoken <- \"Your personal token ...\"\n\n# Returns a `httr::response` object:\nfigma_file <- figma::get_figma_file(\n  file_key, token\n)\n```\n:::\n\n\nFor now, the functions from `figma` package returns a `httr::response` object by default. But you can use the `.output_format` argument to fit the data into a more intuitive data strucuture. For example, a `tibble::tibble` object:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Returns a `tibble::tibble` object:\nfigma_file <- figma::get_figma_file(\n  file_key, token,\n  .output_format = \"tibble\"\n)\n\nprint(figma_file)\n```\n:::\n\n\n```\n#> # A tibble: 5 Ã— 7\n#>   canvas_id canvas_name canvas_type object_id object_name   objecâ€¦Â¹ object_attâ€¦Â²\n#>   <chr>     <chr>       <chr>       <chr>     <chr>         <chr>   <list>      \n#> 1 0:1       Page 1      CANVAS      1:2       Background    RECTANâ€¦ <named list>\n#> 2 0:1       Page 1      CANVAS      5:2       Paragraph     TEXT    <named list>\n#> 3 0:1       Page 1      CANVAS      5:3       Arrow         VECTOR  <named list>\n#> 4 5:4       Page 2      CANVAS      5:5       BackgroundPaâ€¦ RECTANâ€¦ <named list>\n#> 5 5:4       Page 2      CANVAS      5:6       Texto da pÃ¡gâ€¦ TEXT    <named list>\n#> # â€¦ with abbreviated variable names Â¹â€‹object_type, Â²â€‹object_attributes\n```",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}