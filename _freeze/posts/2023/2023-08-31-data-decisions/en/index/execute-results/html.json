{
  "hash": "b37b25825bae8d9a8f8f66770e6f9e8d",
  "result": {
    "markdown": "---\ntitle: \"A small example on how to make better decisions with data\"\ndescription: \"This article describes a real world situation where me and my team used data to convince our client to do a better decision.\"\nnumber-sections: true\nimage: \"./../decision.avif\"\ndate: \"2023-09-01\"\n---\n\n\n# Introduction\n\nThis article describes a real-world situation where me and my team used data\nto convince our client (which is one of the biggest companines in the brazilian\nfinancial market) at the time to make a better decision. Special thanks to\n[Guilherme Goes](https://www.linkedin.com/in/guilhermeggarcia/) and [Paulo Gon√ßalves](https://www.linkedin.com/in/paulo-gon-oli/). They both help me to present these ideas and insights to our client.\n\nIn essence, **making decisions is hard**. But you always make a better decision when you have data\nto guide you into a safer and better outcome. When you do not have data to back you up,\nyou are basically in the dark. That is, you make the decision, but you do not know\nupfront what are the possible outcomes of that decision. You just hope for the best,\nand this is always a hard position to be in.\n\n\n## A Data Analyst should focus on understanding the business\n\nYou will probably notice that a big part of this article is dedicated\nto give you context and explain the business behind this example.\n\nThis is intentional! Because, one of the real values of this article is\nto show that we come up with a good proposal to our client, because we\nunderstood his business, and we raised some good hypothesis about this business,\nand by analyzing these hypothesis we come up with a good new strategy.\n\nIf you do not understand the business you are analyzing, is less\nlikely that you will come up with a good strategy, or, a good\ndata analysis. In other words, by having a good understanding of the business,\nyou will likely have much better ideas on \"how\" to analyze the data you have.\n\n\n# Context\n\nIn essence, our client was a big brazilian bank, one of the largest in the market.\nThe bank was using our digital plataform to sell different products and services through\n[WhatsApp](https://www.whatsapp.com/). Our job was to analyze the data generated by the\nplatform to understand how the bank could increase their sales inside this channel.\n\n## The secured loan product\n\nA secured loan was one of several products offered by the bank on WhatsApp.\nTo acquire this product, the user needed to answer several questions, and also,\nfit into some criterias.\n\nDepending on the type of industry you work in, you might call this as the *sales flow*,\nor, the *sales path*, which is the path (or the steps) that the user needs\nto follow to acquire the product you are selling.\n\nMost companies want to make this path as short as possible so that the user\ngets to the product faster. However, we are talking about a loan,\nso the bank certainly needs a lot of personal and financial information about the user\nbefore it gives the loan.\n\nSo in this example, the user needed to answer a considerable amount\nof questions through WhatsApp to get to the final step of the sales path, that is,\nto acquire the loan.\n\nMost of these questions were asking for some personal information, to check whether this particular user fitted or not into some important criterias.\nMost of these criterias were very standard for any type of loan,\nlike... the person should not have any legal debts with the government.\nSome other criterias were purelly financial and assets related,\nand were also a very commom practice among banks, like...\nthe person needs to be fully employed, he/she needs to have a car which is\nfully paid, and, this car needs to be a personal property of the person, i.e. it cannot be \na borrowed car from another person.\n\n\n\n## The weird criteria\n\nBut one of the many criterias was a bit strange for us. Identify the exact criteria is not important for the content of this article.\nLet's just say that, to be elegible for this loan, **the user needed to be elegible to three different modalities**.\n\nEach modality corresponded to a different type of loan.\nIf the user was not elegible to all of these three modalities (or types of loan),\nthen, we would automatically rejected the user's request for the loan.\n\nIn essence, we had a flow that worked a bit like this:\n\n![A small representation of the sales path](./../flow-extended.png)\n\nEvery time a user entered our flow, we collected the social ID of this user.\nBecause with this social ID we can use the API to check multiple informations\nabout this person. One of the many things we checked, was whether or not\nthis user was elegible or not to these three modalities of loan.\n\n## Why this was weird?\n\nThis was a weird criteria, because... if a user called \"Ana\" is elegible to modality A,\nthen, why not offer a loan of modality A to \"Ana\" ? As another example, if a\nuser \"Mike\" is elegible to both modalities A and B, then, why not offer both\nof these modalities (A and B) to him? Let the user get whatever type of loan\nhe is elegible to, right?\n\nWhy only users that are elegible to all\nthree modalities (A, B and C) get to decide which loan they want to get?\nIn our head, this criteria did not made much sense, because if an user\nis elegible to one modality of loan, he should be able to get\na loan on this modality he is elegible to.\n\n\n## Why this criteria existed?\n\nBut let's face it. Despite this being a weird criteria, there certainly is a reason for it.\nNothing exists without a reason. We thought this weird criteria probably existed either because:\n\n1. a MVP strategy.\n2. or a \"risk trade-off\" strategy.\n\nThe MVP strategy means that the bank included this weird criteria because it\ngreatly simplified the development of the sales path. By simplifying the\ndevelopment, the bank could deliver a MVP (minimal viable product)\nas fast as possible, and, as a consequence, he could make a profit out of it faster.\n\nOn the other side, the \"risk trade-off\" means that\nthe bank included this weird criteria, because it probably estimated\nthat the risk is considerably higher for people that are not\nelegible to all three modalities. If the estimated risk is higher, then,\nthe bank have a good reason to not offer this loan to people\nthat are elegible to only one or two modalities.\n\nBanks are constantly facing a trade-off between risk and profit. In\nother words, a secured loan like this is always a good profit opportunity.\nHowever, this profit opportunity always come at a cost, mostly in the form of risk.\n\nThat is why banks are usually very good at analysing and estimating risks. When a person\nlooks to acquire a loan, the bank starts to analyze several factors\nin order to estimate how much risky is to give a loan to this person.\n\n\n\n# What we discovered\n\nRegardless of which of the above strategies was the exact bank's strategy,\nwe had the hypothesis that this business rule (about the three modalities)\nwas severely affecting the sales result.\n\nIn other words, we suspected\nthat this strategy of rejecting users that did not had all three modalities was\nnot worth it, despite of what decisions the bank actually made to include\nthis criteria into the sales path. But we needed to confirm this hypothesis.\n\nSince we had the data returned from the API, we could potentially identify\nwhich users did have the three modalities, and which did not have. So I setted up a simple\nR script to collect the data of each user that visited our sales path\nin the last month from the API, and putted this script to run through the night.\n\nIn the next day, I had all of the data, and we started to analyze it,\ninvestigating the metadata of each user, and potentially measuring the size of the hole\nthat this business rule was creating.\n\nAs a result, we discovered that the bank was constantly **losing a huge opportunity** because of this\nweird criteria, or, this specific business rule.\nDoing some basic math, we identified that\n**67% of the users that visited our channel were not elegible to all three modalities**.\nThis means that 67% of the users that entered our channel were automatically rejected.\nWe were constantly losing a huge chunk of potential leads\nbecause they did not fitted into this criteria.\n\nSo, for example, if 13,000 users entered our channel, only (1 - 0.67) x 13,000 = 4,290\nof these users could potentially finish the path and acquire the loan. The\nremaining 8,710 users were automatically lost. They were just rejected\nbecause they did not had these three modalities.\n\nThis discovery generated some important possibilities for us:\n\n- Are we reaching the right audience?\n- Maybe we should focus in attract only people that do have the three modalities to our channel? \n- Is this criteria or business-rule worth it?\n\n\n\n\n## Using data to get a better outcome\n\nOur job was to use the data we collected, to show the bank that the potential gains of\nselling different types of loans to these users that did not had the three modalities,\nwere much higher than the potential risk they offered. By using data, we can show the bank (in\nnumbers) the size of the opportunity they were losing. And that is exactly what we did.\n\nOur argument was divided into two separate parts:\n\n1. The size of the lost;\n1. The size of the potential gain;\n\nThe first part of our presentation focused on the 67% number. We shown the\nbank that 67% of the users (which is a huge number) were constantly rejected in the flow.\nBut this number alone does not have much flavor. As long as they are maximizing their profit,\nthe bank does not care if they say \"no\" to 60%, 70%, 80% of the users or whatever.\n\nThat is why in the second part, we did some more basic math to estimate the potential\ngains they were losing by not selling to this 67% of users.\n\n# The new strategy\n\nA quick recap. Each individual user that entered inside our sales path, wants to\nget a loan. But, this user needed to be elegible to three different types of\nloan to actually acquire the loan he wanted through our channel.\n\nBut, what if we change the sales path, so that:\n\n- An user does not need to be elegible to all three modalities to acquire a loan;\n- If an user is elegible to modality A, then, we should offer a loan of modality A to him;\n- If is elegible to modality A and B, then, we offer both loans of modality A and B;\n- If is elegible to modality A, B, and C, then, we offer all three types of loans (A, B and C);\n\nWe estimated that, if we changed the sales path so that it would fit the descriptions above,\nthen, we would increase the users coverage to 96.8%! This means that we could sell a loan to\n96.8% of the users that entered our sales path, instead of only 33%.\n\nNow, if you are thinking that 33% + 67% should be equal to 100% instead,\nyou are forgetting that the user needs to fit into other criterias that I did not mentioned here.\nIn other words, 96.8 - 100 = 3.2% of users would still be\nrejected because they did not fit into other necessary criterias.\n\n\n## Estimates are better than you think\n\nA big part of our education is dedicated to answer precise questions, with well defined problems,\nand, with well defined answers (or solutions).\nUnfortunately, this experience can create some insecurities on most data analysts.\nSince they are used to give precise answers, they usually become \"afraid\", or,\nthey try to avoid estimates (which is to some extent, a \"non-precise\" answer) at all costs.\n\nSo, if you are a data analyst that rely too much on solid and precise numbers, let me give\nyou a quick insight. The thing about precise numbers, is that **they are known**!\nThis property makes them not that much special, because anyone that knows\na lit bit of math can calculate these numbers!\n\nIn other words, when you present a \n\nOr maybe,\nthey end up avoidying estimates on all ocasions.\nA data analyst should not rely solely on hard numbers to defend they hypothesis.\n\n\n\nDoing some basic rule of three, this could mean a potential sales increase of 193%!\nOn the first month after we implemented this new strategy on production,\nthe sales increased approximately 142%, and on the second month, 400%.\nThe sales of this specific loan have a strong seasonal component to it, that is why you\nhave such a big variation from 142% to 400%. But nevertheless, this\ndemonstrates the positive impact of our strategy.\n\n\n\n<!--\n# Collecting the users metadata with R\n\nTo identify which users did and did not had the\nblack credit card, we needed the data returned by the API.\nBut we had to effectively collect this data. In other words,\nthis data was not readily and easily available to us.\n\nWe had to ask to the API for the metadata of each individual user.\nSo in essence, we just collected the data returned by the API for each\nindividual user, then, we organized this data into a concise and structured\nform, then, we store it, and then, we analyze it.\n\nTo do that, we first collected the social IDs of all the users that\nentered in our flow over the last month, and we stored inside a CSV file.\nThen, we just imported this CSV file to R, like this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nsocial_ids <- read_csv(\"social-ids.csv\")\n```\n:::\n\n\nAfter that, we just created \n-->",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}