<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>home |&gt; dplyr::glimpse()</title>
<link>https://pedro-faria.netlify.app/index.html</link>
<atom:link href="https://pedro-faria.netlify.app/index.xml" rel="self" type="application/rss+xml"/>
<description>A blog about programming and data analysis, specially with R and Python</description>
<generator>quarto-1.2.269</generator>
<lastBuildDate>Wed, 14 Dec 2022 03:00:00 GMT</lastBuildDate>
<item>
  <title>Erro de mem√≥ria no Power BI Online? Hora de repensar o seu dashboard</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2022-12-14-power-bi-memory-error/pt/index.html</link>
  <description><![CDATA[ 




<section id="introdu√ß√£o" class="level1">
<h1>Introdu√ß√£o</h1>
<p>Em um dia recente, eu descobri que um dos dashboards que estavam publicados em nosso ambiente de produ√ß√£o do Power BI Online havia sofrido um erro de atualiza√ß√£o. Logo, eu prontamente parei o que estava fazendo e comecei a investigar o motivo do erro, at√© porque: 1) o nosso cliente depende dos dados desse dashboard ; e 2) erros em produ√ß√£o n√£o s√£o legais!</p>
<p>Nesse post, eu quero mostrar como esse tipo de erro de atualiza√ß√£o pode ser um forte sinal de que voc√™ precisa repensar o design de seu dashboard. Em outras palavras, meu objetivo √© mostrar que se voc√™ est√° puxando milh√µes e milh√µes de linhas de dados para um dashboard‚Ä¶ √© prov√°vel que voc√™ <strong>n√£o tenha entendido o que √© um dashboard e qual o seu prop√≥sito.</strong></p>
</section>
<section id="contexto" class="level1">
<h1>Contexto</h1>
<p>Bem, voc√™ j√° sabe que tudo come√ßou por um erro durante a atualiza√ß√£o de um dashboard publicado no Power BI Online. Por√©m, este n√£o era qualquer erro, e sim, um erro de falta de mem√≥ria:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pedro-faria.netlify.app/posts/2022-12-14-power-bi-memory-error/image.png" class="img-fluid figure-img" style="width:70.0%"></p>
<p></p><figcaption class="figure-caption">Mensagem de erro da atualiza√ß√£o no Power BI Online</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Perceba pela mensagem acima, que o motivo do erro foi uma falta de mem√≥ria (<em>insufficient memory</em>) nos clusters respons√°veis por executar a atualiza√ß√£o. O que isso significa? Significa que este dashboard estava pedindo por um volume t√£o grande, mas t√£o grande de dados durante a atualiza√ß√£o, que os clusters que estavam executando essa atualiza√ß√£o n√£o tinham mais espa√ßo para alocar esse volume t√£o grande de dados.</p>
<section id="hora-de-explorar-o-terreno-desconhecido" class="level2">
<h2 class="anchored" data-anchor-id="hora-de-explorar-o-terreno-desconhecido">Hora de explorar o terreno desconhecido</h2>
<p>Nesse dia, eu estava em minha primeira semana em uma nova equipe, e, eu n√£o conhecia esse dashboard. Em outras palavras, eu havia herdado esse dashboard, que foi criado pelos analistas anteriores dessa equipe. Logo, eu precisava abrir o <code>.pbix</code> desse dashboard e come√ßar a investigar, tentando descobrir que mist√©rios e perigos est√£o escondidos dentro dele.</p>
<p>Inicialmente, percebi oito tabelas associadas ao dashboard que foram puxadas diretamente dos nossos databases SQL (<code>campanhas</code>, <code>cartoes_selecionados</code>, <code>usuarios_por_dia</code>, <code>formatos</code>, <code>inputs</code>, <code>usuarios_por_mes</code>, <code>perfis</code> e <code>tracks</code>), as quais est√£o expostas na imagem abaixo<sup>1</sup>. Al√©m delas, temos outras duas tabelas calculadas no pr√≥prio <code>.pbix</code>, atrav√©s de DAX (<code>dCalendario</code> e <code>Medidas</code>).</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pedro-faria.netlify.app/posts/2022-12-14-power-bi-memory-error/tabelas.png" class="img-fluid figure-img" style="width:50.0%"></p>
<p></p><figcaption class="figure-caption">Tabelas associadas ao arquivo <code>.pbix</code></figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Decidi simplesmente clicar no bot√£o de <code>Atualizar</code>. J√° que o erro ocorreu durante a atualiza√ß√£o, imaginei que seria mais simples descobrir a fonte do problema dessa forma.</p>
<p>A maioria das tabelas atualizaram rapidamente. Por√©m, a tabela <code>input</code> ainda estava atualizando. Em resumo, essa tabela continha todas as mensagens digitadas por todos os usu√°rios que acessaram o nosso sistema.</p>
<p>O tempo foi passando, e ap√≥s 3 horas com a atualiza√ß√£o rodando em meu computador, o Power BI j√° havia puxado mais de 80 milh√µes de linhas para essa √∫nica tabela. Decidi verificar se o recurso de <a href="https://learn.microsoft.com/pt-br/power-bi/connect-data/incremental-refresh-overview">Atualiza√ß√£o incremental</a> estava ligado para essa tabela <code>input</code>, e, percebi que ele estava desligado.</p>
</section>
<section id="a-fonte-do-problema" class="level2">
<h2 class="anchored" data-anchor-id="a-fonte-do-problema">A fonte do problema</h2>
<p>Portanto, a fonte do problema estava claro. Como o recurso de ‚ÄúAtualiza√ß√£o incremental‚Äù estava desligado para essa tabela <code>input</code>, a cada atualiza√ß√£o, o Power BI Online estava recalculando toda a tabela <code>input</code> de uma vez s√≥.</p>
<p>Isso significa que, todos os dias, o Power BI estava coletando todas as <strong>80 milh√µes de linhas</strong> dessa tabela <code>input</code>. Devido a este volume monumental de dados, o servi√ßo do Power BI decidiu interromper a atualiza√ß√£o.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2022-12-14-power-bi-memory-error/conversa.png" class="img-fluid" style="width:70.0%"></p>
</div>
</div>
</section>
</section>
<section id="a-solu√ß√£o-simples-e-suja-o-famoso-quick-and-dirty" class="level1">
<h1>A solu√ß√£o simples e suja (o famoso <em>quick and dirty</em>)</h1>
<p>Um jeito simples de resolver esse erro de falta de mem√≥ria, seria simplesmente n√£o carregar todas as 80 milh√µes de linhas de uma vez s√≥! E sim, carregar essas linhas aos poucos.</p>
<p>Para isso, poder√≠amos ligar a atualiza√ß√£o incremental nessa tabela <code>input</code>. Desse modo, cada atualiza√ß√£o vai atualizar apenas os dados dos √∫ltimos dias (ao inv√©s de atualizar a tabela inteira), e em seguida, come√ßamos a carregar os dados aos poucos para o dashboard.</p>
<p>Por exemplo, na primeira atualiza√ß√£o, tentamos puxar os dados do primeiro m√™s, depois, na pr√≥xima atualiza√ß√£o, puxamos os dados do segundo m√™s, e assim por diante, at√© puxarmos todas as 80 mih√µes de linhas. Contudo, isso n√£o √© uma solu√ß√£o de fato!</p>
</section>
<section id="antes-de-tudo-pare-um-pouco-e-pense" class="level1">
<h1>Antes de tudo, pare um pouco e pense</h1>
<p>Primeiro de tudo, pare! E pense‚Ä¶ tente entender o porqu√™ voc√™ est√° puxando milh√µes e milh√µes de linhas. Voc√™ realmente precisa desse volume t√£o grande de dados em seu dashboard? √â muito prov√°vel que n√£o!</p>
<blockquote class="blockquote">
<p><strong>Insight 1:</strong> Se voc√™ est√° puxando milh√µes e milh√µes de linhas de dados para um dashboard, √© prov√°vel que voc√™ n√£o tenha entendido o que √© um dashboard e qual o seu prop√≥sito.</p>
</blockquote>
<section id="manuten√ß√£o-se-torna-um-peso-grande" class="level2">
<h2 class="anchored" data-anchor-id="manuten√ß√£o-se-torna-um-peso-grande">Manuten√ß√£o se torna um peso grande</h2>
<p>Atualizar 80 milh√µes de linhas <strong>n√£o √© pr√°tico, n√£o √© r√°pido, e √© dif√≠cil de manter e testar</strong>. Se por algum motivo, voc√™ precisar atualizar todos os dados de seu dashboard<sup>2</sup>, voc√™ vai muito provavelmente perder uma tarde, talvez um dia inteiro de trabalho s√≥ para completar a atualiza√ß√£o.</p>
<blockquote class="blockquote">
<p><strong>Insight 2:</strong> Um dashboard deve ser f√°cil de se manter e expandir. Em contrapartida, manter um volume grande de dados em um dashboard √© trabalhoso demais.</p>
</blockquote>
</section>
<section id="vamos-pensar-um-pouco-sobre-user-experience" class="level2">
<h2 class="anchored" data-anchor-id="vamos-pensar-um-pouco-sobre-user-experience">Vamos pensar um pouco sobre <em>user experience</em></h2>
<p>Por um momento, vamos adotar o papel de um UX, e refletir sobre a experi√™ncia dos usu√°rios que consomem o nosso dashboard. √â esquisito pensar dessa forma, entretanto, √†s vezes, n√≥s nos esquecemos que pessoas de verdade usam o nosso produto (nesse caso, o dashboard) e se baseiam nele diariamente para desempenhar trabalhos e planejamentos importantes. Portanto, √© muito importante que eles tenham uma experi√™ncia agrad√°vel utilizando o nosso dashboard.</p>
<ul>
<li><strong>Definindo o p√∫blico-alvo:</strong> Primeiro, quem utiliza o nosso dashboard?</li>
</ul>
<p>Na maioria das vezes, quem est√° consumindo os nossos dashboards s√£o <strong>gerentes de alguma √°rea</strong>. Gente importante, que tem pouco tempo no dia, e que lidam com v√°rias tarefas e responsabilidades ao mesmo tempo.</p>
<p>√â justamente por essa escassez de tempo e aten√ß√£o que, em geral, gerentes gostam muito de dashboards. Eles gostam de entrar num dashboard, e rapidamente visualizar todos os indicadores que eles precisam acompanhar. Com isso, eles n√£o precisam gastar horas e horas ca√ßando n√∫meros em diferentes lugares, e com diferentes pessoas. Est√° tudo concentrado em um lugar √∫nico e de f√°cil acesso.</p>
<p>Por isso, um dashboard tem que ser <strong>r√°pido</strong>. Todo gerente tem pressa, ent√£o, a p√°gina inicial do dashboard precisa carregar r√°pido! Navegar pelas diferentes p√°ginas e vis√µes do dashboard tamb√©m precisa ser uma experi√™ncia r√°pida e fl√∫ida. Ningu√©m gosta de uma p√°gina que demora 5 minutos para carregar‚Ä¶ muito menos um gerente.</p>
<p>√â por esse mesmo motivo, que cada p√°gina de um dashboard precisa ser focada em um tema central, e manter o m√≠nimo poss√≠vel de informa√ß√£o que o gerente precisa, da forma mais clara poss√≠vel. Se uma mesma p√°gina mistura diferentes temas, o leitor pode ter dificuldade em navegar pelos indicadores e encontrar o que ele est√° procurando (ou seja, misturar temas = confus√£o mental!).</p>
<blockquote class="blockquote">
<p>Ah! Achei a p√°gina com os indicadores de vendas. Ok. Espera! Por que os indicadores de atendimento est√£o nessa p√°gina? Onde est√° o n√∫mero de vendas de maquininhas nesse m√™s? Ahhh achei! N√£o, espera‚Ä¶ Esse √© o n√∫mero de maquininhas vendidas somente no setor de atendimento, mas eu quero os n√∫meros de venda em TODOS os setores‚Ä¶</p>
</blockquote>
<p>Portanto, dashboards precisam ser r√°pidos, claros e bem dividos! E se voc√™ est√° puxando um volume muito grande de dados para dentro dele, voc√™ com certeza vai impactar negativamente a rapidez desse dashboard, pois ele precisa carregar o grande conjunto de dados que voc√™ inseriu l√° dentro. Al√©m disso, um grande volume de dados pode indicar que voc√™ est√° preenchendo esse dashboard com informa√ß√µes que s√£o irrelevante para o gerente.</p>
<blockquote class="blockquote">
<p><strong>Insight 3:</strong> Dashboards precisam ser r√°pidos, claros e bem dividos!</p>
</blockquote>
</section>
<section id="gerentes-querem-indicadores-e-agregados-n√£o-dados-brutos" class="level2">
<h2 class="anchored" data-anchor-id="gerentes-querem-indicadores-e-agregados-n√£o-dados-brutos">Gerentes querem indicadores e agregados! N√£o dados brutos‚Ä¶</h2>
<p>Gerentes querem acompanhar indicadores e agregados que descrevam de maneira r√°pida a situa√ß√£o atual do neg√≥cio que eles gerem, e das pessoas que est√£o envolvidas nele.</p>
<p>Logo, por que trazer dados brutos para o dashboard? Por que trazer para o dashboard uma tabela com a lista completa de todos os usu√°rios que visitaram o nosso servi√ßo em todos os dias do ano? Se eu posso simplesmente trazer uma tabela j√° agregada, com o n√∫mero de usu√°rios que visitaram esse servi√ßo dentro de cada dia do ano?</p>
<blockquote class="blockquote">
<p><strong>Insight 4:</strong> Gerentes est√£o interessados em acompanhar indicadores e agregados, ao inv√©s de dados brutos. Portanto, importe os seus dados j√° agregados para dentro do dashboard.</p>
</blockquote>
</section>
<section id="isso-significa-que-dados-brutos-geralmente-n√£o-devem-estar-em-um-dashboard" class="level2">
<h2 class="anchored" data-anchor-id="isso-significa-que-dados-brutos-geralmente-n√£o-devem-estar-em-um-dashboard">Isso significa que dados brutos geralmente n√£o devem estar em um dashboard</h2>
<p>Isso tudo n√£o significa que gerentes n√£o consomem dados brutos em momento algum. Mas isso significa que um dashboard √© geralmente o lugar errado para esses dados brutos.</p>
<p>√â at√© comum em certos momentos um gerente pedir para n√≥s coletarmos um conjunto espec√≠fico de dados brutos para ele. Mas se voc√™ refletir sobre todas as ocasi√µes onde isso ocorreu, voc√™ talvez consiga perceber que essas situa√ß√µes caem em duas categorias:</p>
<ol type="1">
<li><p>o gerente queria investigar um problema bem espec√≠fico, e √© bem prov√°vel que esse problema n√£o se repita, logo, ele nunca mais vai precisar desses dados brutos espec√≠ficos novamente (i.e.&nbsp;foi uma entrega pontual);</p></li>
<li><p>o gerente precisa desses dados brutos com certa frequ√™ncia para alimentar algum fluxo de trabalho que voc√™ n√£o conhece, ou est√° em uma equipe/setor diferente do seu;</p></li>
</ol>
<p>Essas duas categorias n√£o justificam incluir dados brutos em um dashboard. Para a primeira situa√ß√£o, voc√™ pode armazenar a query (ou o script) que voc√™ usou no momento para puxar os dados brutos que o gerente te pediu naquele momento. Desse modo, se l√° na frente, por algum motivo voc√™ precisar extrair novamente esses dados brutos, voc√™ precisa apenas retornar √† query e execut√°-la novamente. Al√©m disso, √© muito mais econ√¥mico armazenar centenas de queries distintas, do que armazenar os dados brutos produzidos em cada uma dessas queries (imagine ter centenas de CSV‚Äôs de v√°rios MB‚Äôs armazenados no seu computador‚Ä¶).</p>
<p>Em minha equipe de trabalho, n√≥s utilizamos um board de cards no estilo kanban (como o Asana, ou o Azure DevOps, etc.) para organizar as nossas tarefas e demandas. Eu particularmente gosto de sempre salvar a query que eu utilizei para completar uma demanda, dentro do card correspondente a essa demanda. Sendo assim, caso eu precisar utilizar essa mesma query, eu procuro rapidamente pelo card dessa demanda no hist√≥rico do nosso board de cards, e, copio a query que est√° salva l√° dentro desse card.</p>
<p>J√° na segunda situa√ß√£o, faz mais sentido criar rotinas automatizadas de envio desses dados para o gerente, ou para qualquer que seja a pessoa que esteja precisando desses dados. Ou seja, se por exemplo, o Paulo precisa extrair toda semana, uma lista com todos os usu√°rios que s√£o eleg√≠veis a adquirir um empr√©stimo, eu posso, por exemplo, criar uma rotina automatizada em Python ou em R, que pega os dados brutos do nosso database SQL, filtra todos esses usu√°rios eleg√≠veis, e compila esses dados em um formato agrad√°vel e intuitivo, e por fim, envia esses dados para o Paulo, seja por email, ou talvez, para um servidor ou uma pasta na nuvem que o Paulo tem acesso.</p>
</section>
<section id="dashboards-s√£o-ferramentas-de-uso-di√°rio" class="level2">
<h2 class="anchored" data-anchor-id="dashboards-s√£o-ferramentas-de-uso-di√°rio">Dashboards s√£o ferramentas de uso di√°rio</h2>
<p>O gerente depende desse dashboard todos os dias (ou talvez toda semana) para extrair informa√ß√µes importantes sobre o seu neg√≥cio. Portanto, dashboards possuem uma frequ√™ncia de uso alta, e por essa caracter√≠stica, √© essencial que um dashboard <strong>seja est√°vel</strong> e que esteja sempre o mais atualizado poss√≠vel.</p>
<p>Contudo, ao puxar milh√µes e milh√µes de linhas de dados para um dashboard, todos os dias, voc√™ est√° aumentando as chances desse dashboard enfrentar um erro de atualiza√ß√£o. Isso n√£o √© algo est√°vel!</p>
<p>Voc√™ n√£o quer erros acontecendo no seu dashboard, pois voc√™ n√£o quer perder uma tarde inteira de trabalho investigando onde nas milh√µes e milh√µes de linhas que voc√™ puxou est√° a fonte do erro. Voc√™ tamb√©m n√£o quer perder horas e horas atualizando essas milh√µes de linhas. Isso est√° bastante relacionado tamb√©m com o insight 2, onde definimos que um dashboard deve ser f√°cil de se manter e expandir.</p>
<blockquote class="blockquote">
<p><strong>Insight 5:</strong> Dashboards precisam ser est√°veis! Quanto menos erros ele gerar, melhor para voc√™ (que vai gastar menos tempo de debugging e manuten√ß√£o) e tamb√©m para o gerente que utiliza esse dash.</p>
</blockquote>
<p>Voc√™ quer um dashboard simples, leve, claro, e que funcione da forma como voc√™ esperava que ele funcionasse. Na empresa onde trabalho, temos um lema: ‚ÄúA simplicidade √© o mais alto n√≠vel de sofistica√ß√£o‚Äù. Portanto, leve essa simplicidade para os seus dashboards. N√£o tente fazer coisas complexas e confusas, que s√£o dif√≠ceis de se entender e de investigar (ou ‚Äúdesbugar‚Äù).</p>
</section>
<section id="as-vezes-n√£o-existe-maneira-simples-de-contornar-o-problema" class="level2">
<h2 class="anchored" data-anchor-id="as-vezes-n√£o-existe-maneira-simples-de-contornar-o-problema">As vezes n√£o existe maneira simples de contornar o problema</h2>
<p>Em certas ocasi√µes, os usu√°rios de um dashboard realmente precisam ver algum tipo de dado bruto dentro dele. Nesses casos, voc√™ tra√ßar algumas outras estrat√©gias e perguntas para reduzir ao m√°ximo o n√∫mero de linhas importadas. Por exemplo:</p>
<ol type="1">
<li>eu posso trazer para dentro dashboard uma parte bastante filtrada dos dados brutos?</li>
</ol>
<p>Ou seja, ao inv√©s de trazer as 80 milh√µes de linhas, ser√° que eu consigo aplicar v√°rios filtros sobre esses dados brutos, antes de import√°-los para dentro do dashboard? Esses filtros podem te ajudar a reduzir drasticamente o n√∫mero de linhas carregadas.</p>
<ol start="2" type="1">
<li>ao inv√©s de trazer todos os dados, por que n√£o trazer uma amostra aleat√≥ria da popula√ß√£o?</li>
</ol>
<p>√â √∫til entender o porqu√™ exatamente o seu usu√°rio precisa ver algum dado bruto em seu dashboard. Ao entender o que esse usu√°rio est√° perseguindo, voc√™ talvez chegue a conclus√£o de que o seu usu√°rio j√° ficaria satisfeito ao ver pelo menos uma parte dos dados brutos (n√£o precisa trazer literalmente tudo). Portanto, voc√™ poderia selecionar uma amostra aleat√≥ria dos dados, e importar apenas essa amostra para dentro do dashboard.</p>
<ol start="3" type="1">
<li>ser√° que eu preciso manter o hist√≥rico desses dados brutos dentro do dash?</li>
</ol>
<p>Ser√° que o seu cliente precisa frequentemente visualizar os dados brutos de 6 meses atr√°s? √â muito prov√°vel que n√£o. Ent√£o, por que n√£o manter apenas os dados brutos dos √∫ltimos 30 dias? Em outras palavras, os dados hist√≥ricos s√£o sempre limpos, e apenas os dados brutos mais recentes s√£o mantidos.</p>
<p>Ao reduzir o volume de dados mantidos dentro do dashboard, voc√™ talvez traga uma melhoria consider√°vel sobre o tempo de navega√ß√£o e carregamento do dashboard (lembre-se, um dashboard preciso ser r√°pido, claro e bem divido).</p>
</section>
</section>
<section id="conclus√£o" class="level1">
<h1>Conclus√£o</h1>
<p>Espero que neste artigo, tenha consiguido deixar claro como um n√∫mero exacerbado de dados brutos em seu dashboard pode ser um forte sinal de que voc√™ tenha desenvolvido um dashboard mal desenhado. Apenas para recapitular, os principais pontos abordados foram:</p>
<ol type="1">
<li><p>Se voc√™ est√° puxando milh√µes e milh√µes de linhas de dados para um dashboard, √© prov√°vel que voc√™ n√£o tenha entendido o que √© um dashboard e qual o seu prop√≥sito.</p></li>
<li><p>Um dashboard deve ser f√°cil de se manter e expandir. Em contrapartida, manter um volume grande de dados em um dashboard √© trabalhoso demais.</p></li>
<li><p>Dashboards precisam ser r√°pidos, claros e bem dividos!</p></li>
<li><p>Gerentes est√£o interessados em acompanhar indicadores e agregados, ao inv√©s de dados brutos. Portanto, importe os seus dados j√° agregados para dentro do dashboard.</p></li>
<li><p>Dashboards precisam ser est√°veis! Quanto menos erros ele gerar, melhor para voc√™ (que vai gastar menos tempo de debugging e manuten√ß√£o) e tamb√©m para o gerente que utiliza esse dash.</p></li>
</ol>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Vale destacar que essas tabelas foram renomeadas com o objetivo de manter o anonimato do cliente e dos dados associados a elas.‚Ü©Ô∏é</p></li>
<li id="fn2"><p>Como exemplo, talvez a fonte dos dados sofreu uma atualiza√ß√£o, e voc√™ quer trazer essa atualiza√ß√£o para o seu dashboard, ou ent√£o, porque houve uma perda de dados no Power BI Online e voc√™ deseja recuperar esses dados perdidos.‚Ü©Ô∏é</p></li>
</ol>
</section></div> ]]></description>
  <category>Power BI</category>
  <category>Power BI Online</category>
  <guid>https://pedro-faria.netlify.app/posts/2022-12-14-power-bi-memory-error/pt/index.html</guid>
  <pubDate>Wed, 14 Dec 2022 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2022-12-14-power-bi-memory-error/featured.png" medium="image" type="image/png" height="52" width="144"/>
</item>
<item>
  <title>Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/publications/book/introducao_linguagem_R/pt/index.html</link>
  <description><![CDATA[ 




<section id="sobre-o-livro" class="level1">
<h1>Sobre o livro</h1>
<p><a href="https://www.amazon.com.br/dp/B0BNW4K232"> <button type="button" class="btn btn-primary">Compre uma vers√£o f√≠sica</button></a> <a href="https://pedropark99.github.io/Introducao_R/"> <button type="button" class="btn btn-primary">Leia online</button></a> <a href="./../respostas_complete.pdf"> <button type="button" class="btn btn-primary">Respostas dos exerc√≠cios</button></a></p>
<div style="display:flex;justify-content:space-between;padding:30px">
<p>Este livro oferece uma descri√ß√£o profunda sobre os fundamentos da linguagem R, e como eles se aplicam no contexto da an√°lise de dados. Sua principal contribui√ß√£o para a literatura brasileira hoje, est√° no combate de dois problemas recorrentes nos materiais dispon√≠veis em portugu√™s sobre a linguagem: 1) a falta de profundidade de muitos materiais, que tentam abordar muitos assuntos em um espa√ßo muito curto; 2) a alta especializa√ß√£o de muitos materiais, que s√£o de dif√≠cil transposi√ß√£o para aplica√ß√µes gerais em an√°lises de dados.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pedro-faria.netlify.app/publications/book/introducao_linguagem_R/featured.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="o-que-voc√™-aprende" class="level1">
<h1>O que voc√™ aprende ?</h1>
<p>Atrav√©s deste livro, voc√™ pode aprender sobre os fundamentos da linguagem R, e como eles se aplicam a √°rea de an√°lise de dados. Em mais detalhes:</p>
<ul>
<li><p><strong>Introduzindo a linguagem</strong>: aprenda sobre como definir e como trabalhar com objetos; conhe√ßa as estruturas e tipos de dados oferecidos pela linguagem; entenda como os processos de coer√ß√£o e os valores especiais da linguagem podem afetar os seus resultados.</p></li>
<li><p><strong>Importa√ß√£o e transforma√ß√£o</strong>: aprenda a importar, transformar e formatar suas tabelas atrav√©s dos pacotes <code>readr</code>, <code>readxl</code>, <code>haven</code>, <code>dplyr</code> e <code>tidyr</code>. Aplicando opera√ß√µes de ordena√ß√£o, filtro, sele√ß√£o e expans√£o, al√©m de opera√ß√µes de piv√¥ e <em>join</em>‚Äôs.</p></li>
<li><p><strong>Visualiza√ß√£o de dados</strong>: aprenda a utilizar o pacote <code>ggplot2</code> para produzir gr√°ficos elegantes e efetivos para apresentar os seus dados e as suas conclus√µes.</p></li>
<li><p><strong>Programando a sua an√°lise</strong>: aprenda a utilizar controles de fluxo, fun√ß√µes e <em>loops</em> para automatizar tarefas e solucionar os seus problemas de maneira simples e clara.</p></li>
<li><p><strong><em>Functional programming</em></strong>: aprenda a utilizar o pacote <code>purrr</code> para distribuir rapidamente os seus c√°lculos ao longo de m√∫ltiplos <em>inputs</em>.</p></li>
<li><p><strong><em>Debugging</em></strong> e <strong><em>environments</em></strong>: conhe√ßa as principais t√©cnicas de <em>debugging</em> existentes na linguagem R, e, aprenda como investigar erros em suas fun√ß√µes. Al√©m disso, entenda como a linguagem procura pelos seus objetos e, como voc√™ pode produzir resultados inesperados durante essa busca.</p></li>
</ul>
</section>
<section id="compre-uma-vers√£o-f√≠sica-do-livro" class="level1">
<h1>Compre uma vers√£o f√≠sica do livro!</h1>
<p>Voc√™ pode adquirir uma <a href="https://www.amazon.com.br/dp/B0BNW4K232">vers√£o f√≠sica do livro atrav√©s da loja da Amazon</a>. Uma vers√£o eBook do livro tamb√©m est√° dispon√≠vel. Ao adquirir esses produtos, voc√™ estar√° me ajudando a continuar com esse projeto e a contribuir com nossa comunidade brasileira de R.</p>
</section>
<section id="leia-o-livro-online" class="level1">
<h1>Leia o livro online</h1>
<p>Caso voc√™ n√£o possa comprar uma vers√£o f√≠sica do livro, voc√™ ainda pode ler gratuitamente a obra completa atrav√©s de seu <a href="https://pedropark99.github.io/Introducao_R/">site</a>.</p>
</section>
<section id="citando-o-livro" class="level1">
<h1>Citando o livro</h1>
<p>Arquivo BibTex:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>@book{pedro2022,
  title = {Introdu√ß√£o √† Linguagem R},
  subtitle = {seus fundamentos e sua pr√°tica},
  author = {Pedro Duarte Faria},
  year = {2022},
  edition = {4},
  address = {Belo Horizonte},
  month = {Dezembro},
  isbn = {978-65-00-57872-0},
  note = {https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/}
}</code></pre>
</div>
</div>
</section>
<section id="contribua-para-o-projeto" class="level1">
<h1>Contribua para o projeto</h1>
<p>Voc√™ tamb√©m pode contribuir diretamente para a obra, ao postar <em>pull requests</em> ou <em>issues</em> no <a href="https://github.com/pedropark99/Introducao_R">reposit√≥rio oficial do livro</a> no GitHub.</p>


</section>

 ]]></description>
  <category>R Language</category>
  <category>Book</category>
  <category>Brazil</category>
  <guid>https://pedro-faria.netlify.app/publications/book/introducao_linguagem_R/pt/index.html</guid>
  <pubDate>Thu, 01 Dec 2022 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/publications/book/introducao_linguagem_R/featured.png" medium="image" type="image/png" height="203" width="144"/>
</item>
<item>
  <title>Introducing the {figma} R package</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2022-11-06-figma-pkgv0.1.0/en/index.html</link>
  <description><![CDATA[ 




<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>I‚Äôm very happy to announce the realease of <code>figma</code> R package to CRAN! This package provides a R interface (or a web client/wrapper) to the <a href="https://www.figma.com/developers/api">Figma API</a>. Below we have all the important links about this package:</p>
<p><a href="https://github.com/pedropark99/figma"> <button type="button" class="btn btn-primary">Official repository</button></a> <a href="https://pedropark99.github.io/figma/"> <button type="button" class="btn btn-primary">Package website</button></a> <a href="https://cran.r-project.org/package=figma"> <button type="button" class="btn btn-primary">Page on CRAN</button></a></p>
<p>This is the first release (or the first version) of the package, and for now, it have all the necessary functionality to get all data from a Figma file, and bring it to your R session. But in the future, the package will include more functionalities and endpoints. Please, if you can, test this package and give feedbacks or report bugs by <a href="https://github.com/pedropark99/figma/issues">sending Issues on the official repository</a>.</p>
</section>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">Getting started</h2>
<p>Fist of all, you need to install the package on your machine, and to do that, you can use this code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">install.packages</span>(<span class="st" style="color: #20794D;">"figma"</span>)</span></code></pre></div>
</div>
<p>Or, to install the development version directly from GitHub:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">devtools<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">install_github</span>(<span class="st" style="color: #20794D;">"pedropark99/figma"</span>)</span></code></pre></div>
</div>
<p>Now, to get the data of a Figma file through the Figma API, you have to collect two key variables about your file and your credentials. They are:</p>
<ul>
<li><code>file_key</code>: The ID (or the ‚Äúkey‚Äù) that identifies your Figma file;</li>
<li><code>token</code>: Your personal access token from the Figma platform;</li>
</ul>
<p>To use specifically the <code>figma::get_figma_page()</code> function, you will need to collect a third information, which is the <code>node_id</code>, or the ID that identifies a canvas/page of your Figma file. I explain, in details, on how to collect these key variables on the <a href="https://pedropark99.github.io/figma/articles/figma.html">main vignette package</a>. For brevity reasons, lets assume in this blog post that you already have collected these variables.</p>
</section>
<section id="use-get_figma_file-to-get-your-figma-file" class="level2">
<h2 class="anchored" data-anchor-id="use-get_figma_file-to-get-your-figma-file">Use <code>get_figma_file()</code> to get your Figma file</h2>
<p>Now that you have the key (or ID) that identifies your Figma file, and your personal token that identifies yourself, you can use <code>figma::get_figma_file()</code> to get your Figma file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">library</span>(figma)</span>
<span id="cb3-2">file_key <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="st" style="color: #20794D;">"hch8YlkIrYbU3raDzjPvCz"</span></span>
<span id="cb3-3"><span class="co" style="color: #5E5E5E;"># Insert your personal token:</span></span>
<span id="cb3-4">token <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="st" style="color: #20794D;">"Your personal token ..."</span></span>
<span id="cb3-5"></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;"># Returns a `httr::response` object:</span></span>
<span id="cb3-7">figma_file <span class="ot" style="color: #003B4F;">&lt;-</span> figma<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">get_figma_file</span>(</span>
<span id="cb3-8">  file_key, token</span>
<span id="cb3-9">)</span></code></pre></div>
</div>
<p>The functions from <code>figma</code> package returns a <code>httr::response</code> object by default. But you can use the <code>.output_format</code> argument to fit the data into a more intuitive data strucuture. For example, a <code>tibble::tibble</code> object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;"># Returns a `tibble::tibble` object:</span></span>
<span id="cb4-2">figma_file <span class="ot" style="color: #003B4F;">&lt;-</span> figma<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">get_figma_file</span>(</span>
<span id="cb4-3">  file_key, token,</span>
<span id="cb4-4">  <span class="at" style="color: #657422;">.output_format =</span> <span class="st" style="color: #20794D;">"tibble"</span></span>
<span id="cb4-5">)</span>
<span id="cb4-6"></span>
<span id="cb4-7"><span class="fu" style="color: #4758AB;">print</span>(figma_file)</span></code></pre></div>
</div>
<pre><code>#&gt; # A tibble: 5 √ó 7
#&gt;   canvas_id canvas_name canvas_type object_id object_name   objec‚Ä¶¬π object_att‚Ä¶¬≤
#&gt;   &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;   &lt;list&gt;      
#&gt; 1 0:1       Page 1      CANVAS      1:2       Background    RECTAN‚Ä¶ &lt;named list&gt;
#&gt; 2 0:1       Page 1      CANVAS      5:2       Paragraph     TEXT    &lt;named list&gt;
#&gt; 3 0:1       Page 1      CANVAS      5:3       Arrow         VECTOR  &lt;named list&gt;
#&gt; 4 5:4       Page 2      CANVAS      5:5       BackgroundPa‚Ä¶ RECTAN‚Ä¶ &lt;named list&gt;
#&gt; 5 5:4       Page 2      CANVAS      5:6       Texto da p√°g‚Ä¶ TEXT    &lt;named list&gt;
#&gt; # ‚Ä¶ with abbreviated variable names ¬π‚Äãobject_type, ¬≤‚Äãobject_attributes</code></pre>
<p>Each row in the above <code>data.frame</code> is an object drawn in a canvas/page in your Figma file. Every object that you drawn in the canvas of your Figma file, can have a different type (like RECTANGLE, CIRCLE, TEXT, etc.). And objects of different types usually have different attributes.</p>
<p>For example, TEXT objects have a <code>characters</code> attribute, which have the exact text that is written in the text box. In the other hand, RECTANGLE objects does not have such attribute.</p>
<p>All the attributes of each object are in the <code>‚Äãobject_attributes</code> column, which is a <code>&lt;list&gt;</code> column. Each row (or, if you prefer, each element) in this column is a list with all the attributes of the object described in the corresponding row. For example, to collect the <code>characters</code> attribute of the first TEXT object described in <code>figma_file</code> (which is in the 2nd row), you could do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">figma_file<span class="sc" style="color: #5E5E5E;">$</span>object_attributes[[<span class="dv" style="color: #AD0000;">2</span>]][[<span class="st" style="color: #20794D;">"characters"</span>]]</span></code></pre></div>
</div>
<pre><code>[1] "Um texto qualquer, que n√£o sei se vai dar certo"</code></pre>
<p>Or, you could the functions from <code>dplyr</code> and <code>purrr</code> packages to extract the <code>characters</code> attribute from all TEXT objects of your Figma file, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">text_objects <span class="ot" style="color: #003B4F;">&lt;-</span> figma_file <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb8-2">  dplyr<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">filter</span>(object_type <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'TEXT'</span>) </span>
<span id="cb8-3"></span>
<span id="cb8-4">text_objects[[<span class="st" style="color: #20794D;">'object_attributes'</span>]] <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb8-5">  purrr<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">map_chr</span>(<span class="st" style="color: #20794D;">'characters'</span>)</span></code></pre></div>
</div>
<pre><code>[1] "Um texto qualquer, que n√£o sei se vai dar certo" "Texto da p√°gina 2"</code></pre>
</section>
<section id="other-scopes-of-data" class="level1">
<h1>Other scopes of data</h1>
<p>The <code>figma::get_figma_file()</code> get the data of all objects drawn in all canvas/pages of a Figma file. But, maybe, you don‚Äôt need all data from your file. Maybe you just need the data from a section, or a specific part of your Figma file.</p>
<p>For these occasions, the <code>figma</code> package offers the <code>figma::get_figma_page()</code> (get data of objects drawn in a specific canvas/page of your file) and <code>figma::get_document_info()</code> (get metadata about your Figma file) functions.</p>
<p>These functions work basically the same way as <code>figma::get_figma_file()</code>, they have the same arguments (except <code>figma::get_figma_page()</code> which have a extra argument <code>node_id</code>). Check the <a href="https://pedropark99.github.io/figma/reference/index.html">documentation of these functions</a>, and the <a href="https://pedropark99.github.io/figma/articles/figma.html">main vignette of the package</a> to see examples.</p>


</section>

 ]]></description>
  <category>R Language</category>
  <category>Package</category>
  <category>Figma</category>
  <category>API</category>
  <guid>https://pedro-faria.netlify.app/posts/2022-11-06-figma-pkgv0.1.0/en/index.html</guid>
  <pubDate>Sun, 06 Nov 2022 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2022-11-06-figma-pkgv0.1.0/featured.png" medium="image" type="image/png" height="79" width="144"/>
</item>
<item>
  <title>What‚Äôs new in the 3rd edition of Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2022-04-06-3nd-edition-rbook/en/index.html</link>
  <description><![CDATA[ 




<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>It is with great pleasure that I come to share with you the updates that I am bringing to this new edition of the book <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</a>. The release of this new edition should take place in the middle of April 2022 üìÜ, so stay tuned üòâ.</p>
</section>
<section id="what-is-new" class="level1">
<h1>What is new?</h1>
<p>We have six new chapters ü§Ø, which composes a new part of the book and, bring with it, great advances on the process of developing programs in R. In addition, several improvements have been made in specific sections of the book, especially about chapter 2.</p>
<p>First, there was a significant reorganization of the book. The pre-existing chapters were reorganized into four different parts. The fifth and new part (Functions and <em>Loops</em>: building your own programs and automating tasks) consists of the six new chapters introduced in this edition.</p>
<p>Second, the Functions and <em>Loops</em> chapter has been completely rewritten, expanded, and, broken down into two new chapters ü•≥üéâüéâüéâ. More specifically, chapters 14 (Functions) and 15 (<em>Loops</em>) of this edition.</p>
<p>Third, chapter 16 of this issue brings one of the novelties programmed since the second edition: a new (and robust) chapter on <em>functional programming</em>. With this addition, this work becomes a more modern reference and, close to the standards adopted today by the international community of R üòé.</p>
<p>Fourth, <em>environments</em> and language <em>scoping</em> rules are two relatively advanced topics, and often cause some confusion in many beginners. Therefore, a new chapter has been produced to describe these features that support essential parts of the language, as well as some of the packages we have introduced throughout the book (e.g.&nbsp;<code>dplyr</code> and <code>ggplot2</code>).</p>
<p>Fifth, several additions and improvements were made in chapter 6 (Introduction to the relational database with <code>dplyr</code>) and, mainly, in chapter 2 (Fundamentals of Language R). Among them, we have: a new case study (Importing pintec data); new sections on the functions <code>str()</code> and <code>is.*()</code>; significant improvements on the sections for Coercion and Special Values of R.</p>
<p>Sixth, a new chapter has been introduced that describes the conditional flow controls (<code>if else</code> <em>statements</em> and <code>switch()</code>) that the R language offers.</p>
<p>Seventh, a new and small chapter was added to the second part of the book, with the aim of introducing the tidyverse universe to the reader in a clearer and more friendly way ü•∞.</p>
<p>Eighth, the appendix containing the responses of the exercises was removed, with the aim of reducing the number of pages of the book. Consequently, the responses to the exercises are being made available in a separate PDF, which can be downloaded (free of charge) from the <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">book publication page</a>.</p>
</section>
<section id="about-where-to-find-the-book" class="level1">
<h1>About where to find the book</h1>
<p>As in previous editions, you will be able to read the entire work free of charge and openly through your <a href="https://pedropark99.github.io/Introducao_R/">website</a> ‚Äòr emoji::emoji(‚Äúbook‚Äù)‚Äô.</p>
<p>However, unlike previous editions, the PDF version of the work will not open. You can purchase a PDF or physical version of the book through the Amazon store. By purchasing these versions, you‚Äôll be helping me continue contributing to our ‚Äòr emoji::emoji(‚Äôheart‚Äô) community.</p>
</section>
<section id="contribute-to-the-work-or-make-suggestions" class="level1">
<h1>Contribute to the work or make suggestions!</h1>
<p>If it is of interest to you, you can contribute directly to the work by posting <em>pull requests</em> within your <a href="https://github.com/pedropark99/Introducao_R">official repository</a>. For more, you can also make suggestions or comments by posting <em>issues</em> in this same repository.</p>


</section>

 ]]></description>
  <category>Book</category>
  <category>R Language</category>
  <guid>https://pedro-faria.netlify.app/posts/2022-04-06-3nd-edition-rbook/en/index.html</guid>
  <pubDate>Wed, 06 Apr 2022 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2022-04-06-3nd-edition-rbook/featured.png" medium="image" type="image/png" height="206" width="144"/>
</item>
<item>
  <title>Novidades da 3¬∞ edi√ß√£o de Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2022-04-06-3nd-edition-rbook/pt/index.html</link>
  <description><![CDATA[ 




<section id="introdu√ß√£o" class="level1">
<h1>Introdu√ß√£o</h1>
<p>√â com muito prazer que venho compartilhar com voc√™ as novidades que estou trazendo para essa nova edi√ß√£o do livro <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</a>. O lan√ßamento desta nova edi√ß√£o deve ocorrer ainda no meio de Abril de 2022 üìÜ, portanto, fique atento üòâ.</p>
</section>
<section id="o-que-temos-de-novo" class="level1">
<h1>O que temos de novo?</h1>
<p>Temos seis novos cap√≠tulos ü§Ø, os quais comp√µe uma nova parte do livro e, trazem consigo, grandes avan√ßos sobre o processo de desenvolvimento de programas no R. Al√©m disso, v√°rias melhorias foram feitas em se√ß√µes espec√≠ficas do livro, especialmente sobre o cap√≠tulo 2.</p>
<p>Primeiro, houve uma reorganiza√ß√£o significativa do livro. Os cap√≠tulos pr√©-existentes foram reorganizados em quatro partes diferentes. J√° a quinta e nova parte (Fun√ß√µes e <em>Loops</em>: construindo os seus pr√≥prios programas e automatizando tarefas) √© composta pelos seis novos cap√≠tulos introduzidos nesta edi√ß√£o.</p>
<p>Segundo, o cap√≠tulo de Fun√ß√µes e <em>Loops</em> foi completamente reescrito, expandido, e, repartido em dois novos cap√≠tulos ü•≥üéâüéâüéâ. Mais especificamente, os cap√≠tulos 14 (Fun√ß√µes) e 15 (<em>Loops</em>) desta edi√ß√£o.</p>
<p>Terceiro, o cap√≠tulo 16 desta edi√ß√£o traz uma das novidades programadas desde a segunda edi√ß√£o: um novo (e robusto) cap√≠tulo sobre <em>functional programming</em>. Com essa adi√ß√£o, esta obra se torna uma refer√™ncia mais moderna e, se aproxima dos padr√µes adotados hoje pela comunidade internacional de R üòé.</p>
<p>Quarto, <em>environments</em> e as regras de <em>scoping</em> da linguagem s√£o dois t√≥picos relativamente avan√ßados, e que costumam causar certa confus√£o em muitos iniciantes. Por isso, um novo cap√≠tulo foi produzido para descrever essas funcionalidades que sustentam partes essenciais da linguagem, assim como de alguns dos pacotes que introduzimos ao longo do livro (e.g.&nbsp;<code>dplyr</code> e <code>ggplot2</code>).</p>
<p>Quinto, v√°rias adi√ß√µes e melhorias foram feitas no cap√≠tulo 6 (Introdu√ß√£o a base de dados relacionais com <code>dplyr</code>) e, principalmente, no cap√≠tulo 2 (Fundamentos da Linguagem R). Dentre elas, temos: um novo estudo de caso (Importando os dados da PINTEC)Õæ novas se√ß√µes sobre as fun√ß√µes <code>str()</code> e <code>is.*()</code>Õæ melhorias significativas sobre as se√ß√µes de Coer√ß√£o no R e Valores especiais do R.</p>
<p>Sexto, foi introduzido um novo cap√≠tulo que descreve os controles condicionais de fluxo (<code>if else</code> <em>statements</em> e <code>switch()</code>) que a linguagem R oferece.</p>
<p>S√©timo, um novo e pequeno cap√≠tulo foi adicionado √† segunda parte do livro, com o objetivo de introduzir o universo do <code>tidyverse</code> ao leitor de maneira mais clara e amig√°vel ü•∞.</p>
<p>Oitavo, o ap√™ndice contendo as respostas dos exerc√≠cios foi retirado, com o objetivo de reduzir o n√∫mero de p√°ginas do livro. Consequentemente, as respostas dos exerc√≠cios est√£o sendo disponibilizadas em um PDF separado, o qual pode ser baixado gratuitamente, a partir da p√°gina de <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">publica√ß√£o do livro</a>.</p>
</section>
<section id="sobre-onde-encontrar-o-livro" class="level1">
<h1>Sobre onde encontrar o livro</h1>
<p>Assim como ocorreu nas edi√ß√µes anteriores, voc√™ poder√° ler toda a obra de maneira gratuita e aberta atrav√©s de seu <a href="https://pedropark99.github.io/Introducao_R/">website</a> üìñ.</p>
<p>Contudo, diferente das edi√ß√µes anteriores, a vers√£o em PDF da obra n√£o ser√° aberta. Voc√™ poder√° adquirir uma vers√£o em PDF ou f√≠sica do livro atrav√©s da loja da Amazon. Ao comprar essas vers√µes, voc√™ estar√° me ajudando a continuar contribuindo com a nossa comunidade ‚ù§Ô∏è.</p>
</section>
<section id="contribua-para-a-obra-ou-fa√ßa-sugest√µes" class="level1">
<h1>Contribua para a obra ou fa√ßa sugest√µes!</h1>
<p>Caso seja de seu interesse, voc√™ pode contribuir diretamente para a obra, ao postar <em>pull requests</em> dentro de seu <a href="https://github.com/pedropark99/Introducao_R">reposit√≥rio oficial</a>. Para mais, voc√™ tamb√©m pode fazer sugest√µes ou coment√°rios, ao postar <em>issues</em> neste mesmo reposit√≥rio.</p>


</section>

 ]]></description>
  <category>Book</category>
  <category>R Language</category>
  <guid>https://pedro-faria.netlify.app/posts/2022-04-06-3nd-edition-rbook/pt/index.html</guid>
  <pubDate>Wed, 06 Apr 2022 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2022-04-06-3nd-edition-rbook/featured.png" medium="image" type="image/png" height="206" width="144"/>
</item>
<item>
  <title>What‚Äôs new in the 2nd edition of Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2021-05-26-2nd-edition-rbook/en/index.html</link>
  <description><![CDATA[ 




<div class="cell">
<style type="text/css">
.hljs{
  font-family: 'Inconsolata', monospace;
  font-size: 17px;
}

.hljs.shell{
  font-size: 18px;
}

.hljs-comment{
  font-style: normal;
  color: #222222;
}
</style>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>As I and my colleague <a href="https://twitter.com/joaoparga">Jo√£o Parga</a> began teaching about The R Language, we quickly realized the presence of various short, quality and useful materials<sup>1</sup>. However, we also noticed a disturbing lack of materials (in Portuguese) about the R language, that were more technical or that sought to describe the language in more detail.</p>
<p>For this reason, we built the book <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">Introduction to R Language: its foundations and its practice</a>, which represents our attempt to fill this gap. The first edition of the book was very well received, especially because it is an open and free work for any Brazilian.</p>
<p>With this in mind, üì£ is with great pleasure that I officially announce that the production of the second edition of the book is almost ready!!! ü•≥üéâüéä‚ú®, which is to be released now in June. This <em>post</em> seeks to describe the news we are delivering for this new edition.</p>
</section>
<section id="summary-of-news-for-the-new-edition" class="level1">
<h1>Summary of news for the new edition</h1>
<p>In summary, there are three main novelties for this new edition, which include the addition of two new chapters, and, the introduction of exercises in each chapter (with answers at the end of the book).</p>
<ul>
<li><p>Factors (<code>factor</code>s), <em>status</em>: chapter finalized ‚úÖ.</p></li>
<li><p>Time variables (<code>date</code>, <code>POSIXct</code>, <code>POSIXlt</code>), <em>status</em>: chapter completed ‚úÖ.</p></li>
<li><p>Introduction of exercises in each chapter, <em>status</em>: still in the process of writing üöß.</p></li>
</ul>
</section>
<section id="about-the-launch" class="level1">
<h1>About the launch</h1>
<p>If everything goes according to plan:</p>
<ul>
<li><p>üì£ The release will take place on <strong>day 26/06</strong> üìå.</p></li>
<li><p>On that day, the PDF of the new edition will be available on both pages of <a href="https://www.researchgate.net/publication/345985082_Introducao_a_Linguagem_R_seus_fundamentos_e_sua_pratica">ResearchGate</a> and <a href="https://www.academia.edu/44520051/Introdu%C3%A7%C3%A3o_%C3%A0_Linguagem_R_seus_fundamentos_e_sua_pr%C3%A1tica">Academy</a>, which are the two places where the book is currently hosted.</p></li>
</ul>
<p>Production of this new edition is advanced, but may face delays next month, as I recently took up a new job at a major technology company (<a href="https://www.take.net/">Take Blip</a>) and, therefore, I may have to delay production at the expense of urgent demands. I am ansious and praying hard that nothing goes wrong üòÖ, and that I can fulfill this commitment to our Brazilian community of R.</p>
</section>
<section id="about-every-novelty" class="level1">
<h1>About every novelty:</h1>
<section id="adding-exercises-in-each-chapter" class="level2">
<h2 class="anchored" data-anchor-id="adding-exercises-in-each-chapter">Adding exercises in each chapter</h2>
<p>From the beginning, the book set out to be an introductory and, specially, <strong>technical</strong> reference on language. This means that the book does not try to reach the audience looking for something succinct and efficient, but rather the beginning audience that seeks to delve deeper (or have a more solid foundation) in concepts, methods and other important parts of the language.</p>
<p>Despite this purpose, the book initially offers no exercises, which are an essential feature of any technical book. For this reason, the introduction of exercises in each chapter of this second edition seeks to help the book move towards this purpose, becoming a more consolidated work.</p>
<p>Currently, the construction of the exercises for each chapter is the only part (of this new edition) that is still under construction. From the moment this stage is finished, the second edition will be released to the entire Brazilian public.</p>
</section>
<section id="factors-factors" class="level2">
<h2 class="anchored" data-anchor-id="factors-factors">Factors (‚Äòfactor‚Äô‚Äôs)</h2>
<p>In chapter 2 of the book, the four basic data types of the R language are covered; <code>integer</code>; <code>double</code>; <code>character</code>; and <code>logical</code>. However, there are two other types of data, which are ‚Äúmore complex‚Äù, and which are also very important nowadays. They are the factors (or <code>factor</code>‚Äôs) and the types facing time variables (<code>Date</code>, <code>POSIXct</code>, <code>POSIXlt</code>).</p>
<p>Factors are especially useful for classifying categorical variables. That is, we define the order of their ‚Äúlevels‚Äù (or ‚Äúgroups‚Äù). In other words, several characteristics can be described through a categorical variable, but these characteristics do not always follow a numerical ordering, or an alphabetical order. For example, when giving your assessment of a certain government, you can answer ‚ÄúBad,‚Äù ‚ÄúBad,‚Äù ‚ÄúGood,‚Äù or ‚ÄúVery Good.‚Äù Notice from the demo below, that if I use an alphabetical (growing) ordering on my answers, ‚ÄúGood‚Äù appears before ‚ÄúBad‚Äù, ‚ÄúBad‚Äù and ‚ÄúVery Good‚Äù.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">respostas <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"Muito Bom"</span>, <span class="st" style="color: #20794D;">"Muito Bom"</span>, <span class="st" style="color: #20794D;">"Bom"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"P√©ssimo"</span>,</span>
<span id="cb1-2">               <span class="st" style="color: #20794D;">"Bom"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"Muito Bom"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">sort</span>(respostas)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Bom"       "Bom"       "Muito Bom" "Muito Bom" "Muito Bom" "P√©ssimo"  
 [7] "Ruim"      "Ruim"      "Ruim"      "Ruim"     </code></pre>
</div>
</div>
<p>Using factors, we can define the correct order of these different levels and correct this ordering problem. Notice below that the ordering of the values has been corrected.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">respostas <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">factor</span>(respostas)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;">levels</span>(respostas) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"P√©ssimo"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"Bom"</span>, <span class="st" style="color: #20794D;">"Muito Bom"</span>)</span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;">sort</span>(respostas)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] P√©ssimo   P√©ssimo   Ruim      Ruim      Ruim      Bom       Muito Bom
 [8] Muito Bom Muito Bom Muito Bom
Levels: P√©ssimo Ruim Bom Muito Bom</code></pre>
</div>
</div>
</section>
<section id="time-variables" class="level2">
<h2 class="anchored" data-anchor-id="time-variables">Time variables</h2>
<p>Firms record the time at which sales are made, the time when loads of insums arrive at their facilities, the working time of their employees, and the evolution of several of their indicators over time. Because time is money, and in a capitalist economy money is what makes a difference.</p>
<p>For this reason, time variables are critical in various data analysis, and it is very important that you know how to work with them in any programming language you come to work with. Therefore, this is a very important current gap of the book and, which is being filled in this second edition.</p>
<p>The R language offers us three main types of data focused on time variables, which are: <code>Date</code>, <code>POSIXct</code>, <code>POSIXlt</code>. In addition, we also have a fourth type of data called <code>difftime</code>, which seeks to support the aritmetic operations among the previous 3 types. Values of these three data types are created from the functions <code>as.POSIXct()</code>, <code>as. POSIXlt()</code> and <code>as. Date()</code>.</p>
<p>The <code>Date</code> type helps us store dates in R. We could store dates as simple <em>strings</em>, but with this, we would have an incorrect ordering of the values, in addition to the lack of access to various aritmetic and computational methods focused on this type of data. Therefore, treating your dates using the <code>Date</code> type can make a big difference in your analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">d <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.Date</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"2020-08-10"</span>, <span class="st" style="color: #20794D;">"2020-08-11"</span>, <span class="st" style="color: #20794D;">"2020-08-12"</span>))</span>
<span id="cb5-2">d</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-08-10" "2020-08-11" "2020-08-12"</code></pre>
</div>
</div>
<p>The type <code>POSIXct</code> is particularly useful for interpreting dates accompanied by a time (i.e., a date-time data). Certain transactions need to be recorded with a high level of accuracy. That is, the records of many companies are not content with dates, because they also need to know the exact time (or the exact part) of that day that an event occurs. The type <code>POSIXct</code> was made precisely to treat and deal with this type of information.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">h <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.POSIXct</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"2020-03-21 15:52:29"</span>, <span class="st" style="color: #20794D;">"2020-03-22 10:30:02"</span>))</span>
<span id="cb7-2">h</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-03-21 15:52:29 -03" "2020-03-22 10:30:02 -03"</code></pre>
</div>
</div>
<p>On the other hand, the <code>POSIXlt</code> type can be especially useful when we want to extract the components of a specific time variable. For example, we may be interested only in the day of the month present in each value, or at the time of day stored in each of these values. This point is demonstrated in the example below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">hl <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.POSIXlt</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"2020-03-21 15:52:29"</span>, <span class="st" style="color: #20794D;">"2020-03-22 10:30:02"</span>))</span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="do" style="color: #5E5E5E;
font-style: italic;">## The day of each date:</span></span>
<span id="cb9-4">hl<span class="sc" style="color: #5E5E5E;">$</span>mday</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="do" style="color: #5E5E5E;
font-style: italic;">## The time of day of each date:</span></span>
<span id="cb11-2">hl<span class="sc" style="color: #5E5E5E;">$</span>hour</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 10</code></pre>
</div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Like the materials produced by <a href="https://curso-r.com/material/">Course-R</a>, or this <a href="https://materiais-study-r.netlify.app/">materials index</a> built by Beatriz Milz.‚Ü©Ô∏é</p></li>
</ol>
</section></div> ]]></description>
  <category>Book</category>
  <category>R Language</category>
  <guid>https://pedro-faria.netlify.app/posts/2021-05-26-2nd-edition-rbook/en/index.html</guid>
  <pubDate>Wed, 26 May 2021 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2021-05-26-2nd-edition-rbook/featured.png" medium="image" type="image/png" height="204" width="144"/>
</item>
<item>
  <title>Novidades da 2¬∞ edi√ß√£o de Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2021-05-26-2nd-edition-rbook/pt/index.html</link>
  <description><![CDATA[ 




<div class="cell">
<style type="text/css">
.hljs{
  font-family: 'Inconsolata', monospace;
  font-size: 17px;
}

.hljs.shell{
  font-size: 18px;
}

.hljs-comment{
  font-style: normal;
  color: #222222;
}
</style>
</div>
<section id="introdu√ß√£o" class="level1">
<h1>Introdu√ß√£o</h1>
<p>A medida em que eu e meu colega <a href="https://twitter.com/joaoparga">Jo√£o Parga</a> come√ßamos a ensinar sobre a Linguagem R, n√≥s rapidamente percebemos a presen√ßa de v√°rios materiais curtos, de qualidade e √∫teis<sup>1</sup>. Entretanto, tamb√©m percebemos uma inquietante falta de materiais (em portugu√™s) sobre a Linguagem R, que fossem mais t√©cnicos ou que buscassem descrever a linguagem em mais detalhes.</p>
<p>Por esse motivo, n√≥s constru√≠mos o livro <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</a>, que representa a nossa tentativa de preencher tal lacuna. A primeira edi√ß√£o do livro foi muito bem recebida, em especial, por ser uma obra aberta e gratuita para qualquer brasileiro.</p>
<p>Tendo isso em mente, üì£ √© com muito prazer que anuncio oficialmente que a produ√ß√£o da segunda edi√ß√£o do livro est√° quase pronta!!! ü•≥üéâüéä‚ú®, que est√° para ser lan√ßada agora no m√™s de Junho. Esse <em>post</em> busca descrever as novidades que estamos entregando para essa nova edi√ß√£o.</p>
</section>
<section id="resumo-das-novidades-para-a-nova-edi√ß√£o" class="level1">
<h1>Resumo das novidades para a nova edi√ß√£o</h1>
<p>Em resumo, h√° tr√™s novidades principais para essa nova edi√ß√£o, que incluem a adi√ß√£o de dois novos cap√≠tulos, al√©m da adi√ß√£o de exerc√≠cios em cada cap√≠tulo (com respostas ao final do livro).</p>
<ul>
<li>Fatores (<code>factor</code>‚Äôs), <em>status</em>: cap√≠tulo finalizado ‚úÖ.</li>
<li>Vari√°veis de tempo (<code>date</code>, <code>POSIXct</code>, <code>POSIXlt</code>), <em>status</em>: cap√≠tulo finalizado ‚úÖ.</li>
<li>Introdu√ß√£o de exerc√≠cios em cada cap√≠tulo, <em>status</em>: ainda em processo de escrita üöß.</li>
</ul>
</section>
<section id="sobre-o-lan√ßamento" class="level1">
<h1>Sobre o lan√ßamento</h1>
<p>Se tudo ocorrer conforme planejado:</p>
<ul>
<li><p>üì£ O lan√ßamento ocorrer√° no <strong>dia 26/06</strong> üìå.</p></li>
<li><p>Nesse dia, o PDF da obra ser√° disponibilizada em ambas as p√°ginas do <a href="https://www.researchgate.net/publication/345985082_Introducao_a_Linguagem_R_seus_fundamentos_e_sua_pratica">ResearchGate</a> e no <a href="https://www.academia.edu/44520051/Introdu%C3%A7%C3%A3o_%C3%A0_Linguagem_R_seus_fundamentos_e_sua_pr%C3%A1tica">Academia</a>, que s√£o os dois locais onde o livro est√° atualmente hospedado.</p></li>
</ul>
<p>A produ√ß√£o dessa nova edi√ß√£o se encontra avan√ßada, mas pode enfrentar atrasos no pr√≥ximo m√™s, pois recentemente assumi um novo emprego em uma grande empresa de tecnologia (<a href="https://www.take.net/">Take Blip</a>) e, portanto, posso ter que atrasar a produ√ß√£o em detrimento de demandas urgentes. Estou ansioso e torcendo muito para que nada de errado ocorra üòÖ, e que eu possa cumprir este compromisso com a nossa comunidade brasileira de R.</p>
</section>
<section id="sobre-cada-novidade" class="level1">
<h1>Sobre cada novidade:</h1>
<section id="adi√ß√£o-de-exerc√≠cios-em-cada-cap√≠tulo" class="level2">
<h2 class="anchored" data-anchor-id="adi√ß√£o-de-exerc√≠cios-em-cada-cap√≠tulo">Adi√ß√£o de exerc√≠cios em cada cap√≠tulo</h2>
<p>Desde o in√≠cio, o livro se prop√¥s a ser uma refer√™ncia introdut√≥ria e, principalmente, <strong>t√©cnica</strong>, sobre a linguagem. Isto significa que, o livro n√£o tenta atingir o p√∫blico que procura por algo sucinto e eficiente, mas sim, o p√∫blico iniciante que busca se aprofundar (ou ter uma base mais s√≥lida) em conceitos, m√©todos e outras partes importantes da linguagem.</p>
<p>Apesar desse prop√≥sito, o livro inicialmente n√£o oferece exerc√≠cios, os quais s√£o uma caracter√≠stica essencial de qualquer obra t√©cnica. Por esse motivo, a introdu√ß√£o de exerc√≠cios em cada cap√≠tulo dessa segunda edi√ß√£o, busca ajudar o livro a caminhar para esse prop√≥sito, se tornando uma obra mais consolidada.</p>
<p>Atualmente, a constru√ß√£o dos exerc√≠cios para cada cap√≠tulo √© a √∫nica parte (dessa nova edi√ß√£o) que ainda est√° em constru√ß√£o. A partir do momento em que essa etapa for finalizada, a segunda edi√ß√£o ser√° lan√ßada para todo o p√∫blico brasileiro.</p>
</section>
<section id="fatores-factors" class="level2">
<h2 class="anchored" data-anchor-id="fatores-factors">Fatores (<code>factor</code>‚Äôs)</h2>
<p>No cap√≠tulo 2 do livro, s√£o abordados os quatro tipos de dados b√°sicos da linguagem R. Sendo eles: <code>integer</code>; <code>double</code>; <code>character</code>; e <code>logical</code>. Por√©m, h√° dois outros tipos de dados, que s√£o ‚Äúmais complexos‚Äù, e que tamb√©m s√£o muito importantes hoje em dia. S√£o eles os fatores (ou <code>factor</code>‚Äôs) e os tipos voltados para vari√°veis de tempo (<code>date</code>, <code>POSIXct</code>, <code>POSIXlt</code>).</p>
<p>Fatores s√£o especialmente √∫teis para classificarmos vari√°veis categ√≥ricos. Isto √©, definirmos a ordem de seus ‚Äún√≠veis‚Äù (ou ‚Äúgrupos‚Äù). Dito de outra forma, v√°rias caracter√≠sticas podem ser descritas atrav√©s de uma vari√°vel categ√≥rica, mas nem sempre essas caracter√≠sticas seguem uma ordena√ß√£o num√©rica, ou uma ordem alfab√©tica. Por exemplo, ao dar a sua avalia√ß√£o de um certo governo, voc√™ pode responder ‚ÄúP√©ssimo‚Äù, ‚ÄúRuim‚Äù, ‚ÄúBom‚Äù ou ‚ÄúMuito Bom‚Äù. Perceba pela demonstra√ß√£o abaixo, que caso eu empregue uma ordena√ß√£o alfab√©tica (crescente) sobre as minhas respostas, ‚ÄúBom‚Äù aparece antes de ‚ÄúRuim‚Äù, ‚ÄúP√©ssimo‚Äù e ‚ÄúMuito Bom‚Äù.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">respostas <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"Muito Bom"</span>, <span class="st" style="color: #20794D;">"Muito Bom"</span>, <span class="st" style="color: #20794D;">"Bom"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"P√©ssimo"</span>,</span>
<span id="cb1-2">               <span class="st" style="color: #20794D;">"Bom"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"Muito Bom"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">sort</span>(respostas)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Bom"       "Bom"       "Muito Bom" "Muito Bom" "Muito Bom" "P√©ssimo"  
 [7] "Ruim"      "Ruim"      "Ruim"      "Ruim"     </code></pre>
</div>
</div>
<p>Com o uso de fatores, n√≥s podemos definir qual a ordem correta desses diferentes n√≠veis e corrigir esse problema de ordena√ß√£o. Perceba abaixo que a ordena√ß√£o dos valores foi corrigida.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">respostas <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">factor</span>(respostas)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;">levels</span>(respostas) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"P√©ssimo"</span>, <span class="st" style="color: #20794D;">"Ruim"</span>, <span class="st" style="color: #20794D;">"Bom"</span>, <span class="st" style="color: #20794D;">"Muito Bom"</span>)</span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;">sort</span>(respostas)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] P√©ssimo   P√©ssimo   Ruim      Ruim      Ruim      Bom       Muito Bom
 [8] Muito Bom Muito Bom Muito Bom
Levels: P√©ssimo Ruim Bom Muito Bom</code></pre>
</div>
</div>
</section>
<section id="vari√°veis-de-tempo" class="level2">
<h2 class="anchored" data-anchor-id="vari√°veis-de-tempo">Vari√°veis de tempo</h2>
<p>Firmas registram o hor√°rio em que vendas s√£o realizadas, o hor√°rio em que cargas de insumos chegam a suas instala√ß√µes, o tempo de trabalho de seus funcion√°rios, al√©m da evolu√ß√£o de v√°rios de seus indicadores ao longo do tempo. Pois tempo √© dinheiro, e, em uma economia capitalista o dinheiro √© o que faz a diferen√ßa.</p>
<p>Por essa raz√£o, vari√°veis de tempo s√£o fundamentais em diversas an√°lises de dados e, √© muito importante que voc√™ saiba como trabalhar com elas em qualquer linguagem de programa√ß√£o que voc√™ venha a trabalhar. Por isso, essa √© uma lacuna atual muito importante do livro e, que est√° sendo preenchida nessa segunda edi√ß√£o.</p>
<p>A linguagem R nos oferece tr√™s tipos principais de dados focados em vari√°veis de tempo, sendo eles: <code>Date</code>, <code>POSIXct</code>, <code>POSIXlt</code>. Al√©m disso, temos ainda um quarto tipo de dado chamado <code>difftime</code>, que busca dar suporte √†s opera√ß√µes aritm√©ticas entre os 3 tipos anteriores. Valores desses tr√™s tipos de dados, s√£o criados a partir das fun√ß√µes <code>as.POSIXct()</code>, <code>as.POSIXlt()</code> e <code>as.Date()</code>.</p>
<p>O tipo <code>Date</code> nos ajuda a armazenar datas no R. Poder√≠amos armazenar datas como simples <em>strings</em>, mas com isso, ter√≠amos uma ordena√ß√£o incorreta dos valores, al√©m da falta de acesso a diversos m√©todos aritm√©ticos e computacionais voltados para esse tipo de dado. Logo, tratar as suas datas por meio do tipo <code>Date</code> pode fazer a diferen√ßa em sua an√°lise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">d <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.Date</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"2020-08-10"</span>, <span class="st" style="color: #20794D;">"2020-08-11"</span>, <span class="st" style="color: #20794D;">"2020-08-12"</span>))</span>
<span id="cb5-2">d</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-08-10" "2020-08-11" "2020-08-12"</code></pre>
</div>
</div>
<p>J√° o tipo <code>POSIXct</code> √© particularmente √∫til para interpretar datas acompanhadas de um hor√°rio (isto √©, um dado do tipo <code>date-time</code>). Certas transa√ß√µes econ√¥micas precisam ser registradas com um n√≠vel de precis√£o alto. Ou seja, os registros de muitas empresas n√£o se contentam com datas, pois eles tamb√©m necessitam saber o momento exato (ou o hor√°rio exato) dessa data em que um evento ocorre. O tipo <code>POSIXct</code> foi feito justamente para tratar e lidar com esse tipo de informa√ß√£o.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">h <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.POSIXct</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"2020-03-21 15:52:29"</span>, <span class="st" style="color: #20794D;">"2020-03-22 10:30:02"</span>))</span>
<span id="cb7-2">h</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-03-21 15:52:29 -03" "2020-03-22 10:30:02 -03"</code></pre>
</div>
</div>
<p>Por outro lado, o tipo <code>POSIXlt</code> pode ser especialmente √∫til quando desejamos extrair os componentes de uma vari√°vel de tempo espec√≠fica. Por exemplo, podemos estar interessados apenas no dia do m√™s presente em cada valor, ou ainda, na hora do dia guardada em cada um desses valores. Tal ponto est√° demonstrado no exemplo abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">hl <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.POSIXlt</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"2020-03-21 15:52:29"</span>, <span class="st" style="color: #20794D;">"2020-03-22 10:30:02"</span>))</span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="do" style="color: #5E5E5E;
font-style: italic;">## O dia de cada data:</span></span>
<span id="cb9-4">hl<span class="sc" style="color: #5E5E5E;">$</span>mday</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="do" style="color: #5E5E5E;
font-style: italic;">## A hora do dia de cada data:</span></span>
<span id="cb11-2">hl<span class="sc" style="color: #5E5E5E;">$</span>hour</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 10</code></pre>
</div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Como os materiais produzidos pelo <a href="https://curso-r.com/material/">Curso-R</a>, ou este <a href="https://materiais-estudo-r.netlify.app/">√≠ndice de materiais</a> constru√≠do por Beatriz Milz.‚Ü©Ô∏é</p></li>
</ol>
</section></div> ]]></description>
  <category>Book</category>
  <category>R Language</category>
  <guid>https://pedro-faria.netlify.app/posts/2021-05-26-2nd-edition-rbook/pt/index.html</guid>
  <pubDate>Wed, 26 May 2021 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2021-05-26-2nd-edition-rbook/featured.png" medium="image" type="image/png" height="204" width="144"/>
</item>
<item>
  <title>Recipient table and source table</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/en/index.html</link>
  <description><![CDATA[ 




<div class="cell">
<style type="text/css">
.hljs{
  font-family: 'Inconsolata', monospace;
  font-size: 17px;
}

.hljs.shell{
  font-size: 18px;
}

.hljs-comment{
  font-style: normal;
  color: #222222;
}
</style>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p><em>Outer joins</em> are a simple topic of understanding for most students. However, this article proposes a second approach on the subject. This approach was built during a recent reformulation of the chapter ‚ÄúIntrodu√ß√£o a base de dados relacionais‚Äù, from the book <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</a>. The point of view presented here seeks to be strict, and uses this rigidity as a mechanism that facilitates the student`s memorization of the behaviors in each type of <em>outer join</em>.</p>
</section>
<section id="joins-have-direction" class="level1">
<h1>Joins have direction</h1>
<p>A <em>join</em> operation is nothing more than a union between two tables. But, instead of an union of two tables, we have another option for interpreting the result of this operation. So that to produce a table that represents the union between two tables, we could simply extract all the columns from one of the tables, and insert them into the other table.</p>
<p>For example, suppose you have a table <code>A</code>, which contains two columns, called <code>x</code> and <code>y</code>; and a table <code>B</code>, which in turn holds 4 different columns, named <code>x</code>, <code>z</code>, <code>r</code>, and <code>t</code>. Note that one of the columns in table <code>B</code> corresponds to the same column <code>x</code> that we found in table <code>A</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(tibble)</span>
<span id="cb1-2"></span>
<span id="cb1-3">A <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb1-4">  <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="dv" style="color: #AD0000;">5</span>,</span>
<span id="cb1-5">  <span class="at" style="color: #657422;">y =</span> <span class="fu" style="color: #4758AB;">round</span>(<span class="fu" style="color: #4758AB;">rnorm</span>(<span class="dv" style="color: #AD0000;">5</span>, <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">1</span>), <span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb1-6">)</span>
<span id="cb1-7"></span>
<span id="cb1-8">B <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb1-9">  <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="dv" style="color: #AD0000;">5</span>,</span>
<span id="cb1-10">  <span class="at" style="color: #657422;">z =</span> letters[<span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="dv" style="color: #AD0000;">5</span>],</span>
<span id="cb1-11">  <span class="at" style="color: #657422;">r =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="fl" style="color: #AD0000;">3.5</span>, <span class="fl" style="color: #AD0000;">2.1</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="fl" style="color: #AD0000;">5.6</span>, <span class="fl" style="color: #AD0000;">7.2</span>),</span>
<span id="cb1-12">  <span class="at" style="color: #657422;">t =</span> <span class="st" style="color: #20794D;">"tzu"</span></span>
<span id="cb1-13">)</span></code></pre></div>
</div>
<p>If you want to join tables <code>A</code> and <code>B</code>, you basically want to create a new table, which contains all five columns of these two tables (<code>x</code>, <code>y</code>, <code>z</code>, <code>r</code> and <code>t</code>). Therefore, we could imagine a <em>join</em> process, as if we were extracting all the columns from table <code>B</code>, and inserting all of these columns in table <code>A</code>. Hence, we have the table below as a result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;">full_join</span>(A, B, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"x"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 5
      x     y z         r t    
  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;
1     1  1.14 a       3.5 tzu  
2     2  1.36 b       2.1 tzu  
3     3  3.27 c       1   tzu  
4     4  1.77 d       5.6 tzu  
5     5  3.16 e       7.2 tzu  </code></pre>
</div>
</div>
<p>With this, we are creating the idea that <strong>a <em>join</em> always has a direction</strong>. In other words, we first extract the columns from table <code>B</code>, and then we add those columns to table <code>A</code>. Note that we are always starting from table <code>B</code> towards table <code>A</code>.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/direcao.png" class="img-fluid" width="2200"></p>
</div>
</div>
</section>
<section id="recipient-table-and-source-table" class="level1">
<h1>Recipient table and source table</h1>
<p>From this perspective, we can interpret that, in a <em>join</em>, we are bringing all the columns of a secondary table into our main table (or our table of interest). We have the option to call these tables :<strong>source table</strong> (secondary table) and <strong>recipient table</strong> (main table). With this, a <em>join</em> always starts at <strong>source table</strong> and go towards the <strong>recipient table</strong>.</p>
<p>This perspective makes sense with the practice of <em>joins</em>. Because in any analysis, we commonly work with a ‚Äúmain‚Äù table, or a table that contains the key data we‚Äôre analyzing. And when we use some <em>join</em>, we‚Äôre usually bringing columns from other tables into this ‚Äúmain‚Äù table (or ‚Äúrecipient‚Äù table, according to that perspective). So keep in mind that a <em>join</em> always part from the <strong>source table</strong> toward the <strong>recipient table</strong>.</p>
</section>
<section id="types-of-outer-join" class="level1">
<h1>Types of <em>outer join</em></h1>
<p>A natural <em>join</em> (<em>inner join</em>) usually generates a loss of observations from both tables involved in the process. In contrast, a <em>join</em> of type <em>outer</em> (that is, an <em>outer join</em>), seeks to delimit which of the two tables will be preserved in the result. That is, an <em>outer join</em> seeks to keep in the <em>join</em> result, the rows of at least one of the tables involved.</p>
<p>We have three main types of <em>outer joins</em>, which are <em>left join</em>, <em>right join</em> and <em>full join</em>. A <em>full join</em> is the simplest to understand, as it seeks to keep all rows of both tables employed. Therefore, even if there is some observation not found in one of the tables, it will be preserved in the final product of the operation.</p>
<p>However, <em>left join</em> and <em>right join</em> seek to keep rows from only one of the tables used in <em>join</em>. At this point, many teachers would say something like: ‚Äúif we want to apply a <em>join</em> between tables <code>A</code> and <code>B</code>, a <em>left join</em> will keep the rows of table <code>A</code>, and a <em>right join</em> will keep the rows of table <code>B</code>‚Äù. Other teachers would still try to say, ‚Äú<em>left join</em> will keep the table rows on the left, while a <em>right join</em> will keep the table rows to the right‚Äù.</p>
<p>However, some confusion can be easily applied in both alternatives. I mean, a student can easily face the following question: ‚Äúü§î Uhmm‚Ä¶ I don‚Äôt remember very well. Does a <em>left join</em> keep the rows in table <code>A</code>? Or are the rows in table <code>B</code>?‚Äù; or else, ‚Äúü§î Wait! But which of the two tables is on the right side?‚Äù</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>With this, according to the perspective adopted in this article, we can understand that a <em>left join</em> and a <em>right join</em> seek to keep the rows of the <strong>recipient table</strong> and the <strong>source table</strong>, respectively. Thus, when using a <em>right join</em> or a <em>left join</em>, you should ask yourself the following: ‚ÄúDo I want to keep the rows in my main table (recipient table)? Or the secondary table (source table), where I am extracting the new columns from?‚Äù So if you want to keep, for example, the rows in your main table (recipient table), which is what occurs most of the time, you now know that you need to use a <em>left join</em>.</p>
<p>In a visual representation, we can reproduce below the initial image of this article, which marks the lines maintained by each of these two types of <em>join</em>.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/featured.png" class="img-fluid" width="2200"></p>
</div>
</div>


</section>

 ]]></description>
  <category>Joins</category>
  <category>Teaching</category>
  <category>Book</category>
  <category>R Language</category>
  <guid>https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/en/index.html</guid>
  <pubDate>Sat, 02 Jan 2021 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/featured.png" medium="image" type="image/png" height="81" width="144"/>
</item>
<item>
  <title>Tabela destinat√°ria e tabela fonte</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/pt/index.html</link>
  <description><![CDATA[ 




<div class="cell">
<style type="text/css">
.hljs{
  font-family: 'Inconsolata', monospace;
  font-size: 17px;
}

.hljs.shell{
  font-size: 18px;
}

.hljs-comment{
  font-style: normal;
  color: #222222;
}
</style>
</div>
<section id="introdu√ß√£o" class="level1">
<h1>Introdu√ß√£o</h1>
<p><em>Outer joins</em> s√£o um t√≥pico de simples compreens√£o para a maioria dos alunos. Entretanto, esse artigo prop√µe uma segunda abordagem sobre o tema. Tal abordagem foi constru√≠da durante uma reformula√ß√£o recente do cap√≠tulo ‚ÄúIntrodu√ß√£o a base de dados relacionais‚Äù do livro <a href="https://pedro-faria.netlify.app/pt/publication/book/introducao_linguagem_r/">Introdu√ß√£o √† Linguagem R: seus fundamentos e sua pr√°tica</a>. O ponto de vista apresentado aqui, busca ser estrito, e utiliza essa rigidez como um mecanismo que facilite a memoriza√ß√£o do aluno sobre os comportamentos de cada tipo de <em>outer join</em>.</p>
</section>
<section id="joins-possuem-sentido-e-dire√ß√£o" class="level1">
<h1>Joins possuem sentido e dire√ß√£o</h1>
<p>Uma opera√ß√£o de <em>join</em> √© nada mais do que uma uni√£o entre duas tabelas. Por outro lado, temos uma outra op√ß√£o de interpreta√ß√£o do resultado dessa opera√ß√£o. De modo que, para produzirmos uma tabela que represente a uni√£o entre duas tabelas, poder√≠amos simplesmente extrair todas as colunas de uma das tabelas, e inser√≠-las na outra tabela.</p>
<p>Por exemplo, suponha que voc√™ possua uma tabela <code>A</code>, que cont√©m duas colunas, chamadas <code>x</code> e <code>y</code>; e uma tabela <code>B</code>, que por sua vez, guarda 4 colunas diferentes, denominadas <code>x</code>, <code>z</code>, <code>r</code>, e <code>t</code>. Perceba que uma das colunas na tabela <code>B</code>, corresponde a mesma coluna <code>x</code> que encontramos na tabela <code>A</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(tibble)</span>
<span id="cb1-2"></span>
<span id="cb1-3">A <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb1-4">  <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="dv" style="color: #AD0000;">5</span>,</span>
<span id="cb1-5">  <span class="at" style="color: #657422;">y =</span> <span class="fu" style="color: #4758AB;">round</span>(<span class="fu" style="color: #4758AB;">rnorm</span>(<span class="dv" style="color: #AD0000;">5</span>, <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">1</span>), <span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb1-6">)</span>
<span id="cb1-7"></span>
<span id="cb1-8">B <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb1-9">  <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="dv" style="color: #AD0000;">5</span>,</span>
<span id="cb1-10">  <span class="at" style="color: #657422;">z =</span> letters[<span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="dv" style="color: #AD0000;">5</span>],</span>
<span id="cb1-11">  <span class="at" style="color: #657422;">r =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="fl" style="color: #AD0000;">3.5</span>, <span class="fl" style="color: #AD0000;">2.1</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="fl" style="color: #AD0000;">5.6</span>, <span class="fl" style="color: #AD0000;">7.2</span>),</span>
<span id="cb1-12">  <span class="at" style="color: #657422;">t =</span> <span class="st" style="color: #20794D;">"tzu"</span></span>
<span id="cb1-13">)</span></code></pre></div>
</div>
<p>Se voc√™ deseja unir as tabelas <code>A</code> e <code>B</code>, voc√™ basicamente deseja criar uma nova tabela, que cont√©m todas as cinco colunas dessas duas tabelas (<code>x</code>, <code>y</code>, <code>z</code>, <code>r</code> e <code>t</code>). Portanto, poder√≠amos imaginar um processo de <em>join</em>, como se estiv√©ssemos transportando todas as colunas da tabela <code>B</code>, para dentro da tabela <code>A</code>. Dessa maneira, temos a tabela abaixo como resultado:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;">library</span>(dplyr)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">full_join</span>(A, B, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"x"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 5
      x     y z         r t    
  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;
1     1  3.27 a       3.5 tzu  
2     2  2.3  b       2.1 tzu  
3     3  1.18 c       1   tzu  
4     4  1.95 d       5.6 tzu  
5     5  1.59 e       7.2 tzu  </code></pre>
</div>
</div>
<p>Com isso, estamos criando a ideia de que <strong>um <em>join</em> possui sempre um sentido e uma dire√ß√£o</strong>. Em outras palavras, primeiro, extra√≠mos as colunas da tabela <code>B</code>, e em seguida, acrescentamos essas colunas √† tabela <code>A</code>. Repare que estamos sempre partindo da tabela <code>B</code> em dire√ß√£o a tabela <code>A</code>.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/direcao.png" class="img-fluid" width="2200"></p>
</div>
</div>
</section>
<section id="tabela-destinat√°ria-e-tabela-fonte" class="level1">
<h1>Tabela destinat√°ria e tabela fonte</h1>
<p>Por essa perspectiva, podemos interpretar que, em um <em>join</em>, estamos trazendo todas as colunas de uma tabela secund√°ria, para dentro de nossa tabela principal (ou a nossa tabela de interesse). Temos a op√ß√£o de chamarmos essas tabelas de: <strong>tabela fonte</strong> (tabela secund√°ria) e <strong>tabela destinat√°ria</strong> (tabela principal). Com isso, temos que um <em>join</em> sempre parte da <strong>tabela fonte</strong> em dire√ß√£o √† <strong>tabela destinat√°ria</strong>.</p>
<p>Essa perspectiva faz sentido com a pr√°tica de <em>joins</em>. Pois em qualquer an√°lise, n√≥s comumente trabalhamos com uma tabela ‚Äúprincipal‚Äù, ou uma tabela que cont√©m os principais dados que estamos analisando. E quando utilizamos algum <em>join</em>, estamos geralmente trazendo colunas de outras tabelas para dentro dessa tabela ‚Äúprincipal‚Äù (ou tabela ‚Äúdestinat√°ria‚Äù, segundo essa perspectiva). Por isso, tenha em mente que um <em>join</em> sempre parte da <strong>tabela fonte</strong> em dire√ß√£o √† <strong>tabela destinat√°ria</strong>.</p>
</section>
<section id="tipos-de-outer-join" class="level1">
<h1>Tipos de <em>outer join</em></h1>
<p>Um <em>join</em> natural (<em>inner join</em>) usualmente gera uma perda de observa√ß√µes de ambas as tabelas envolvidas no processo. Em contrapartida, um <em>join</em> do tipo <em>outer</em> (isto √©, um <em>outer join</em>), busca delimitar qual das duas tabelas ser√° preservada no resultado. Ou seja, um <em>outer join</em> busca manter as linhas de pelo menos uma das tabelas envolvidas, no resultado do <em>join</em>.</p>
<p>Temos tr√™s tipos principais de <em>outer joins</em>, que s√£o <em>left join</em>, <em>right join</em> e <em>full join</em>. O <em>full join</em> √© o mais simples de se compreender, pois ele busca manter todas as linhas de ambas as tabelas empregadas. Logo, mesmo que haja alguma observa√ß√£o n√£o encontrada em uma das tabelas, ela ser√° preservada no produto final da opera√ß√£o.</p>
<p>No entanto, <em>left join</em> e <em>right join</em> buscam conservar as linhas de apenas uma das tabelas utilizadas no <em>join</em>. Nesse ponto, muitos professores diriam algo como: ‚Äúse temos desejamos aplicar um <em>join</em> entre as tabelas <code>A</code> e <code>B</code>, um <em>left join</em> ir√° manter as linhas da tabela <code>A</code> e um <em>right join</em> vai manter as linhas da tabela <code>B</code>‚Äù. Outros professores ainda tentariam dizer: ‚Äú<em>left join</em> ir√° manter as linhas da tabela √† esquerda, enquanto um <em>right join</em> vai manter as linhas da tabela √† direita‚Äù.</p>
<p>Por√©m, certa confus√£o pode ser facilmente aplicada em ambas alternativas. Digo, um aluno pode facilmente enfrentar a seguinte quest√£o: ‚Äúü§î Uhmm‚Ä¶ Eu n√£o me lembro muito bem. Um <em>left join</em> mant√©m as linhas da tabela <code>A</code>? Ou s√£o as linhas da tabela <code>B</code>?‚Äù; ou ent√£o, ‚Äúü§î Pera! Mas qual das duas tabelas est√° a direita?‚Äù.</p>
</section>
<section id="conclus√£o" class="level1">
<h1>Conclus√£o</h1>
<p>Com isso, segundo a perspectiva adotada nesse artigo, podemos entender que, um <em>left join</em> e um <em>right join</em> buscam manter as linhas da <strong>tabela destinat√°ria</strong> e da <strong>tabela fonte</strong>, respectivamente. Dessa forma, ao utilizar um <em>right join</em> ou um <em>left join</em>, voc√™ deve se questionar o seguinte: ‚ÄúEu quero manter as linhas de minha tabela principal (tabela destinat√°ria)? Ou da tabela secund√°ria (tabela fonte), de onde estou extraindo as novas colunas?‚Äù. Logo, se voc√™ deseja manter, por exemplo, as linhas de sua tabela principal (tabela destinat√°ria), que √© o que ocorre na maioria das vezes, voc√™ sabe agora que voc√™ precisa utilizar um <em>left join</em>.</p>
<p>Em uma representa√ß√£o visual, podemos reproduzir abaixo a imagem inicial desse artigo, que marca as linhas mantidas por cada um desses dois tipos de <em>join</em>.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/featured.png" class="img-fluid" width="2200"></p>
</div>
</div>


</section>

 ]]></description>
  <category>Joins</category>
  <category>Teaching</category>
  <category>Book</category>
  <category>R Language</category>
  <guid>https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/pt/index.html</guid>
  <pubDate>Sat, 02 Jan 2021 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2021-01-02-tabela-destinataria-fonte/featured.png" medium="image" type="image/png" height="81" width="144"/>
</item>
<item>
  <title>Resultados do Formul√°rio de Pesquisa de Interesse - Curso Introdut√≥rio de R</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/posts/2020-10-17-formulario-pesquisa/pt/index.html</link>
  <description><![CDATA[ 




<p>Esse post faz parte de um projeto meu, de um Curso Introdut√≥rio de R. Esse projeto j√° tem um ano, que venho aperfei√ßoando-o, e a primeira vez que ele foi posto em pr√°tica (ou seja, a primeira vez que dei um curso da linguagem) foi no instituto de pesquisa onde trabalho, a Funda√ß√£o Jo√£o Pinheiro<sup>1</sup>. Foi um momento muito proveitoso, pois uma das melhores formas de se aprender uma mat√©ria, √© tentando ensin√°-la para outras pessoas.</p>
<p>Aprimorei e venho aprimorando constatemente o meu conhecimento da linguagem R, e agora, uma nova oportunidade de ensinar essa linguagem, surgiu atrav√©s de um convite da CORECON-MG<sup>2</sup> Acad√™mico. Com a ideia de compreendermos melhor as prefer√™ncias do potencial p√∫blico desse curso, n√≥s lan√ßamos um formul√°rio de pesquisa no dia 10/10/2020.</p>
<p>Neste post, estarei analisando rapidamente as respostas que coletamos por esse formul√°rio. Por motivos √≥bvios, as informa√ß√µes pessoais daqueles que responderam ao formul√°rio, foram omitidas nesse artigo.</p>
<section id="tivemos-inclusive-pessoas-de-outros-pa√≠ses" class="level1">
<h1>Tivemos inclusive pessoas de outros pa√≠ses!</h1>
<p>No momento em que estou montando essa an√°lise, tivemos no total, 122 respostas ao formul√°rio. Mesmo sendo um n√∫mero relativamente pequeno de pessoas, atingimos os mais diversos locais do pa√≠s, abrangendo todas as cinco regi√µes do pa√≠s.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">nrow</span>(respostas)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 122</code></pre>
</div>
</div>
<p>As respostas ao formul√°rio n√£o tinham um padr√£o bem definido, e por isso algumas respostas tiveram que ser ajustadas. Ao final desse ajuste, percebemos que pessoas de 61 institui√ß√µes diferentes responderam ao formul√°rio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">nrow</span>(instituicoes)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 61</code></pre>
</div>
</div>
<p>A maior parte das institui√ß√µes √†s quais os respondentes pertenciam, est√£o localizadas na regi√£o Sudeste, com 22 institui√ß√µes. O Nordeste vem logo em seguida, com 16 insitui√ß√µes. Agora, as institui√ß√µes que n√£o foram designadas para alguma regi√£o (<code>NA</code>), s√£o na verdade institui√ß√µes de fora do Brasil. Isso significa que tivemos 5 respostas vindas de outros pa√≠ses, ao formul√°rio de interesse no curso.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span>
<span id="cb5-2"></span>
<span id="cb5-3">instituicoes <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;">group_by</span>(Regiao) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;">summarise</span>(<span class="at" style="color: #657422;">contagem =</span> <span class="fu" style="color: #4758AB;">n</span>())</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 2
  Regiao       contagem
  &lt;chr&gt;           &lt;int&gt;
1 Centro Oeste        3
2 Nordeste           15
3 Norte               9
4 Sudeste            22
5 Sul                 7
6 &lt;NA&gt;                5</code></pre>
</div>
</div>
<p>A maioria das pessoas que responderam ao formul√°rio, provinham de institui√ß√µes localizadas no estado Minas Gerais. Grande parte das respostas foram da UFOP (que √© a institui√ß√£o na qual estudo), totalizando 22 respostas. Al√©m disso, n√£o recebemos respostas de alguns estados, que est√£o marcados em cinza no gr√°fico abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">library</span>(geobr)</span>
<span id="cb7-2"></span>
<span id="cb7-3">brasil <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read_state</span>()</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">resp_sum <span class="ot" style="color: #003B4F;">&lt;-</span> respostas <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;">select</span>(Regiao, Instituicao, abbrev, Estado) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;">group_by</span>(Estado, Regiao) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;">summarise</span>(<span class="at" style="color: #657422;">contagem =</span> <span class="fu" style="color: #4758AB;">n</span>())</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Estado'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">brasil <span class="ot" style="color: #003B4F;">&lt;-</span> brasil <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;">left_join</span>(resp_sum, <span class="at" style="color: #657422;">by =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"name_state"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"Estado"</span>))</span>
<span id="cb10-3"></span>
<span id="cb10-4"><span class="fu" style="color: #4758AB;">ggplot</span>(<span class="at" style="color: #657422;">data =</span> brasil) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb10-5">  <span class="fu" style="color: #4758AB;">geom_sf</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">fill =</span> Regiao)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb10-6">  <span class="fu" style="color: #4758AB;">stat_sf_coordinates</span>(</span>
<span id="cb10-7">    <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">label =</span> contagem),</span>
<span id="cb10-8">    <span class="at" style="color: #657422;">geom =</span> <span class="st" style="color: #20794D;">"text"</span></span>
<span id="cb10-9">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb10-10">  <span class="fu" style="color: #4758AB;">theme_void</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb10-11">  <span class="fu" style="color: #4758AB;">labs</span>(</span>
<span id="cb10-12">    <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"N√∫mero de respostas provenientes de cada estado brasileiro"</span>,</span>
<span id="cb10-13">    <span class="at" style="color: #657422;">fill =</span> <span class="st" style="color: #20794D;">"Regi√£o"</span></span>
<span id="cb10-14">  )</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf::st_zm(x)): st_point_on_surface may not
give correct results for longitude/latitude data</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (geom_text).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2020-10-17-formulario-pesquisa/pt/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Talvez o mais impressionante de tudo isso, √© que tivemos pessoas de outros pa√≠ses interessadas no curso. Cada um desses outros pa√≠ses obtiveram apenas uma assinatura, mas mesmo assim, √© no m√≠nimo interessante ver o qu√£o longe fomos. Os pa√≠ses atingidos (fora o Brasil), e as respectivas institui√ß√µes dos respondentes foram: Venezuela (Universidad de Carabobo); Cuba (Universidad de la Havana); Mo√ßambique (ISRI - Instituto Superior De Rela√ß√µes Internacionais); e Peru (Universidad Nacional de Ingeniaria); Portugal (Universidade de Lisboa).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">cores <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(</span>
<span id="cb13-2">  <span class="st" style="color: #20794D;">"Brazil"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"#F8766D"</span>,</span>
<span id="cb13-3">  <span class="st" style="color: #20794D;">"Cuba"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"#BB9D00"</span>,</span>
<span id="cb13-4">  <span class="st" style="color: #20794D;">"Mozambique"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"#7CAE00"</span>,</span>
<span id="cb13-5">  <span class="st" style="color: #20794D;">"Venezuela"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"#00A5FF"</span>,</span>
<span id="cb13-6">  <span class="st" style="color: #20794D;">"Peru"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"#E76BF3"</span>,</span>
<span id="cb13-7">  <span class="st" style="color: #20794D;">"Portugal"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"#4fc953"</span>,</span>
<span id="cb13-8">  <span class="st" style="color: #20794D;">"N√£o foi atingido"</span> <span class="ot" style="color: #003B4F;">=</span> <span class="st" style="color: #20794D;">"#d4d4d4"</span></span>
<span id="cb13-9">)</span>
<span id="cb13-10"></span>
<span id="cb13-11">world<span class="sc" style="color: #5E5E5E;">$</span>cores <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">unname</span>(cores[world<span class="sc" style="color: #5E5E5E;">$</span>marca])</span>
<span id="cb13-12"></span>
<span id="cb13-13"><span class="fu" style="color: #4758AB;">ggplot</span>(<span class="at" style="color: #657422;">data =</span> world) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-14">  <span class="fu" style="color: #4758AB;">geom_sf</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">fill =</span> cores)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-15">  <span class="fu" style="color: #4758AB;">coord_sf</span>(<span class="at" style="color: #657422;">xlim =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">100</span>, <span class="dv" style="color: #AD0000;">50</span>), <span class="at" style="color: #657422;">ylim =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">60</span>, <span class="dv" style="color: #AD0000;">40</span>)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-16">  <span class="fu" style="color: #4758AB;">theme_void</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-17">  <span class="fu" style="color: #4758AB;">labs</span>(</span>
<span id="cb13-18">    <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Pa√≠ses atingidos pelo formul√°rio"</span>,</span>
<span id="cb13-19">    <span class="at" style="color: #657422;">fill =</span> <span class="st" style="color: #20794D;">"Pa√≠s de refer√™ncia"</span></span>
<span id="cb13-20">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-21">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">"bottom"</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-22">  <span class="fu" style="color: #4758AB;">scale_fill_identity</span>(</span>
<span id="cb13-23">    <span class="at" style="color: #657422;">guide =</span> <span class="st" style="color: #20794D;">"legend"</span>,</span>
<span id="cb13-24">    <span class="at" style="color: #657422;">labels =</span> <span class="fu" style="color: #4758AB;">names</span>(cores),</span>
<span id="cb13-25">    <span class="at" style="color: #657422;">breaks =</span> <span class="fu" style="color: #4758AB;">unname</span>(cores)</span>
<span id="cb13-26">  )</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2020-10-17-formulario-pesquisa/pt/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="assuntos-requisitados" class="level1">
<h1>Assuntos requisitados</h1>
<p>O R √© uma linguagem que foi criada por estat√≠sticos, e por isso, √© uma linguagem especializada em an√°lise de dados e estat√≠stica. Com isso, n√£o √© nenhuma surpresa que Econometria e An√°lise de S√©ries Temporais, tenham sido as principais sugest√µes e assuntos requisitados para o curso, pelas pessoas que responderam o formul√°rio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;">library</span>(wordcloud)</span>
<span id="cb14-2"><span class="fu" style="color: #4758AB;">library</span>(RColorBrewer)</span>
<span id="cb14-3"></span>
<span id="cb14-4">assuntos <span class="ot" style="color: #003B4F;">&lt;-</span> respostas <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-5">  <span class="fu" style="color: #4758AB;">filter</span>(<span class="sc" style="color: #5E5E5E;">!</span><span class="fu" style="color: #4758AB;">is.na</span>(Sugestao)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-6">  <span class="fu" style="color: #4758AB;">group_by</span>(Sugestao) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-7">  <span class="fu" style="color: #4758AB;">count</span>() <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-8">  <span class="fu" style="color: #4758AB;">arrange</span>(n)</span>
<span id="cb14-9"></span>
<span id="cb14-10">cor <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">brewer.pal</span>(<span class="dv" style="color: #AD0000;">6</span>, <span class="st" style="color: #20794D;">"Dark2"</span>)</span>
<span id="cb14-11"><span class="fu" style="color: #4758AB;">names</span>(cor) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"1"</span>, <span class="st" style="color: #20794D;">"3"</span>, <span class="st" style="color: #20794D;">"5"</span>, <span class="st" style="color: #20794D;">"8"</span>, <span class="st" style="color: #20794D;">"2"</span>, <span class="st" style="color: #20794D;">"4"</span>)</span>
<span id="cb14-12">assuntos<span class="sc" style="color: #5E5E5E;">$</span>color <span class="ot" style="color: #003B4F;">&lt;-</span> cor[<span class="fu" style="color: #4758AB;">as.character</span>(assuntos<span class="sc" style="color: #5E5E5E;">$</span>n)]</span>
<span id="cb14-13"></span>
<span id="cb14-14"></span>
<span id="cb14-15"><span class="fu" style="color: #4758AB;">wordcloud</span>(</span>
<span id="cb14-16">  <span class="at" style="color: #657422;">words =</span> assuntos<span class="sc" style="color: #5E5E5E;">$</span>Sugestao,</span>
<span id="cb14-17">  <span class="at" style="color: #657422;">freq =</span> assuntos<span class="sc" style="color: #5E5E5E;">$</span>n,</span>
<span id="cb14-18">  <span class="at" style="color: #657422;">min.freq =</span> <span class="dv" style="color: #AD0000;">1</span>,</span>
<span id="cb14-19">  <span class="at" style="color: #657422;">max.words =</span> <span class="dv" style="color: #AD0000;">200</span>,</span>
<span id="cb14-20">  <span class="at" style="color: #657422;">ordered.colors =</span> <span class="cn" style="color: #8f5902;">TRUE</span>,</span>
<span id="cb14-21">  <span class="at" style="color: #657422;">rot.per =</span> <span class="fl" style="color: #AD0000;">0.35</span>,</span>
<span id="cb14-22">  <span class="at" style="color: #657422;">use.r.layout =</span> <span class="cn" style="color: #8f5902;">FALSE</span>,</span>
<span id="cb14-23">  <span class="at" style="color: #657422;">scale =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">2</span>,<span class="fl" style="color: #AD0000;">0.5</span>),</span>
<span id="cb14-24">  <span class="at" style="color: #657422;">colors =</span> assuntos<span class="sc" style="color: #5E5E5E;">$</span>color</span>
<span id="cb14-25">)</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2020-10-17-formulario-pesquisa/wordcloud.png" class="img-fluid" width="450"></p>
</div>
</div>
</section>
<section id="√°reas-dos-respondentes" class="level1">
<h1>√Åreas dos respondentes</h1>
<p>A enorme maioria das pessoas que responderam eram alunos de gradua√ß√£o, ou bachareis j√° formados. Como pode ser observado logo abaixo, tivemos tamb√©m algumas pessoas com algum n√≠vel de p√≥s-gradua√ß√£o.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="fu" style="color: #4758AB;">table</span>(respostas<span class="sc" style="color: #5E5E5E;">$</span>Nivel)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Doutorado Gradua√ß√£o  Mestrado 
        4       113         5 </code></pre>
</div>
</div>
<p>Curiosamente, das 10 pessoas que possu√≠am ou estavam fazendo p√≥s-gradua√ß√£o (mestrado ou doutorado), 6 eram de alguma √°rea da Sa√∫de ou das Ci√™ncias Biol√≥gicas. Apenas uma dessas 10 pessoas, pertencia a √°rea de Economia. Esse resultado faz sentido, visto que a linguagem R tem se expandido muito em algumas √°reas como a epidemiologia e principalmente em an√°lise gen√©tica, atrav√©s de um conjunto de pacotes como o <code>Bioconductor</code><sup>3</sup>.</p>
<p>De qualquer maneira, olhando para o n√∫mero geral de respondentes, a grande maioria do p√∫blico atingido pelo formul√°rio, foram graduandos (ou bachareis j√° formados) em Economia, totalizando 65 pessoas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">respostas <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb17-2">  <span class="fu" style="color: #4758AB;">filter</span>(Curso <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Economia"</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb17-3">  <span class="fu" style="color: #4758AB;">nrow</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
</div>
<p>Quanto √†s 52 pessoas restantes que n√£o pertencem √† area de Economia, as √°reas atingidas foram bem diversas. Foram 5 pessoas de Agronomia e 4 pessoas de Geologia. As demais √°reas marcadas em laranja abaixo, correspondem a 2 pessoas, enquanto todas as outras em ciano obtiveram apenas 1 respondente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1">areas <span class="ot" style="color: #003B4F;">&lt;-</span> respostas <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb19-2">  <span class="fu" style="color: #4758AB;">filter</span>(Curso <span class="sc" style="color: #5E5E5E;">!=</span> <span class="st" style="color: #20794D;">"Economia"</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb19-3">  <span class="fu" style="color: #4758AB;">group_by</span>(Curso) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb19-4">  <span class="fu" style="color: #4758AB;">count</span>() <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb19-5">  <span class="fu" style="color: #4758AB;">arrange</span>(n)</span>
<span id="cb19-6"></span>
<span id="cb19-7">cor <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">brewer.pal</span>(<span class="dv" style="color: #AD0000;">5</span>, <span class="st" style="color: #20794D;">"Dark2"</span>)</span>
<span id="cb19-8"><span class="fu" style="color: #4758AB;">names</span>(cor) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">unique</span>(areas<span class="sc" style="color: #5E5E5E;">$</span>n)</span>
<span id="cb19-9">areas<span class="sc" style="color: #5E5E5E;">$</span>color <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">unname</span>(cor[<span class="fu" style="color: #4758AB;">as.character</span>(areas<span class="sc" style="color: #5E5E5E;">$</span>n)])</span>
<span id="cb19-10"></span>
<span id="cb19-11"><span class="fu" style="color: #4758AB;">wordcloud</span>(</span>
<span id="cb19-12">  <span class="at" style="color: #657422;">words =</span> areas<span class="sc" style="color: #5E5E5E;">$</span>Curso,</span>
<span id="cb19-13">  <span class="at" style="color: #657422;">freq =</span> areas<span class="sc" style="color: #5E5E5E;">$</span>n,</span>
<span id="cb19-14">  <span class="at" style="color: #657422;">min.freq =</span> <span class="dv" style="color: #AD0000;">1</span>,</span>
<span id="cb19-15">  <span class="at" style="color: #657422;">max.words =</span> <span class="dv" style="color: #AD0000;">200</span>,</span>
<span id="cb19-16">  <span class="at" style="color: #657422;">ordered.colors =</span> <span class="cn" style="color: #8f5902;">TRUE</span>,</span>
<span id="cb19-17">  <span class="at" style="color: #657422;">rot.per =</span> <span class="fl" style="color: #AD0000;">0.35</span>,</span>
<span id="cb19-18">  <span class="at" style="color: #657422;">use.r.layout =</span> <span class="cn" style="color: #8f5902;">FALSE</span>,</span>
<span id="cb19-19">  <span class="at" style="color: #657422;">scale =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">2</span>,<span class="fl" style="color: #AD0000;">0.5</span>),</span>
<span id="cb19-20">  <span class="at" style="color: #657422;">color =</span> areas<span class="sc" style="color: #5E5E5E;">$</span>color</span>
<span id="cb19-21">)</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://pedro-faria.netlify.app/posts/2020-10-17-formulario-pesquisa/areas.png" class="img-fluid" width="700"></p>
</div>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>http://novosite.fjp.mg.gov.br/‚Ü©Ô∏é</p></li>
<li id="fn2"><p>Conselho Regional de Economia Acad√™mico de Minas Gerais:http://corecon-mg.org.br/academico/‚Ü©Ô∏é</p></li>
<li id="fn3"><p>https://www.bioconductor.org/‚Ü©Ô∏é</p></li>
</ol>
</section></div> ]]></description>
  <category>R Language</category>
  <category>Teaching</category>
  <guid>https://pedro-faria.netlify.app/posts/2020-10-17-formulario-pesquisa/pt/index.html</guid>
  <pubDate>Sat, 17 Oct 2020 03:00:00 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/posts/2020-10-17-formulario-pesquisa/featured.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Introduction to pyspark</title>
  <dc:creator>Pedro Duarte Faria</dc:creator>
  <link>https://pedro-faria.netlify.app/publications/book/introd-pyspark/en/index.html</link>
  <description><![CDATA[ 




<section id="still-under-construction" class="level1">
<h1>Still under construction üõ†Ô∏è ‚ö†Ô∏è!</h1>
<p>This book is still under active construction and development! This means that not all chapters are ready yet, and the current contents might change in the close future. However, you can already read some of its parts by <a href="https://pedropark99.github.io/Introd-pyspark/">visiting its website</a>.</p>
</section>
<section id="about-the-book" class="level1">
<h1>About the book</h1>
<p><a href="https://github.com/pedropark99/Introd-pyspark"> <button type="button" class="btn btn-primary">Official repository</button></a> <a href="https://pedropark99.github.io/Introd-pyspark/"> <button type="button" class="btn btn-primary">Read online</button></a></p>
<div style="float:left;display:flex;justify-content:space-between;padding:30px">
<div class="about-this-book-text">
<p>In summary, this book aims to give a solid introduction (for python and not python users) to the <code>pyspark</code> package, and on how to use it to build Spark applications for data pipelines and interactive data analysis.</p>
<p>Although we have a good range of materials about Apache Spark in general, such as <span class="citation" data-cites="damji2020">Damji et al. (2020)</span> and <span class="citation" data-cites="chambers2018">Chambers and Zaharia (2018)</span>, we do not have much abundance of materials about the APIs of Spark in ‚Äúforeign‚Äù languages, like the Python (<code>pyspark</code>) and R (<code>SparkR</code>) APIs.</p>
<p>The reason for this is simple: the Spark API have a consistent structure across all languages. As consequence, a general book about Spark can fairly cover all languages at once. In other words, Spark code in Scala can be easily translated into python code with <code>pyspark</code>. Because the structure of the code is very similar between all languages.</p>
<p>So why this book? First, python is a more popular and friendly language than Scala or Java. If the reader is not interested in learning Java or Scala, why show Java/Scala code to him? Is very important to focus solely on what interest the reader, specially if it is in a language that he is familiar with. Second, I had some time to spent, and a lot of practical experience with <code>pyspark</code> on production to share (so‚Ä¶ why not write a book about it?).</p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pedro-faria.netlify.app/publications/book/introd-pyspark/featured.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-chambers2018" class="csl-entry">
Chambers, Bill, and Matei Zaharia. 2018. <em>Spark: The Definitive Guide: Big Data Processing Made Simple</em>. Sebastopol, CA: O‚ÄôReilly Media.
</div>
<div id="ref-damji2020" class="csl-entry">
Damji, Jules, Brooke Wenig, Tathagata Das, and Denny Lee. 2020. <em>Learning Spark: Lightning-Fast Data Analytics</em>. Sebastopol, CA: O‚ÄôReilly Media.
</div>
</div></section></div> ]]></description>
  <category>Python</category>
  <category>Spark</category>
  <category>Book</category>
  <guid>https://pedro-faria.netlify.app/publications/book/introd-pyspark/en/index.html</guid>
  <pubDate>Tue, 20 Dec 2022 11:25:07 GMT</pubDate>
  <media:content url="https://pedro-faria.netlify.app/publications/book/introd-pyspark/featured.png" medium="image" type="image/png" height="215" width="144"/>
</item>
</channel>
</rss>
